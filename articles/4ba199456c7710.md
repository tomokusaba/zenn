---
title: "WCAG 2.2 × Fluent UI で実現するWebアクセシビリティ設計とテスト戦略"
emoji: "♿"
type: "tech"
topics: ["accessibility", "wcag", "fluentui", "testing", "design"]
published: false
---

## はじめに

Webアクセシビリティとは、障がいの有無にかかわらず、すべてのユーザーがWebコンテンツを知覚・操作・理解できるようにするための取り組みです。W3Cが策定する **Web Content Accessibility Guidelines（WCAG）2.2** は、2023年10月5日にW3C勧告として公開され、2024年12月12日にエラッタを反映した最新版が再公開されています。Webアクセシビリティの国際的な標準として広く参照されています。

本記事では、WCAG 2.2の要件を体系的に整理したうえで、Microsoftの **Fluent UI** デザインシステムを活用することでどの程度のWCAG要件をカバーできるのかを明確にし、さらにアクセシビリティテストを自動テストと手動テストに分類してそれぞれの目的と進め方を解説します。

## Webアクセシビリティを取り巻く法規制

Webアクセシビリティへの対応は、単なるベストプラクティスではなく、国内外の法規制によって義務化が進んでいる領域です。特に日本では2024年4月の法改正施行により、民間事業者を含む幅広い組織が対応を求められる状況となっています。

### 日本の法規制

#### 障害者差別解消法（障害を理由とする差別の解消の推進に関する法律）

障害者差別解消法は、国連の「障害者の権利に関する条約」の締結に向けた国内法整備の一環として、2013年（平成25年）に制定され、全ての国民が障害の有無によって分け隔てられることなく共生する社会の実現を目的としています。同法は「不当な差別的取扱いの禁止」と「合理的配慮の提供」を二本柱としており、2016年（平成28年）の施行時には行政機関等に対してその両方が義務化された一方、民間事業者に対しては合理的配慮の提供が努力義務にとどまっていました。

**2021年（令和3年）の改正**（令和3年法律第56号）により、**2024年（令和6年）4月1日から民間事業者にも合理的配慮の提供が義務化**されました。この改正は、Webサイトやデジタルサービスを提供するすべての民間事業者に直接影響します。「合理的配慮」とは、障害のある人が社会的障壁を取り除くために必要かつ適当な変更・調整を行うことを意味し、Webアクセシビリティの文脈ではスクリーンリーダー対応やキーボード操作性の確保などがこれに該当します。ただし、その実施に伴う負担が過重でない範囲での対応が求められることも同法に明記されています。

#### JIS X 8341-3:2016

日本産業規格のJIS X 8341-3:2016（「高齢者・障害者等配慮設計指針 — 情報通信における機器，ソフトウェア及びサービス — 第3部：ウェブコンテンツ」）は、WCAG 2.0を基礎として策定された日本国内のWebアクセシビリティ規格です。公的機関のWebサイトでは、このJIS規格への適合が広く求められています。なお、WCAG 2.1および2.2で追加された達成基準はJIS X 8341-3:2016の範囲外であるため、最新のWCAG 2.2に対応するにはW3Cの原文を直接参照する必要があります。デジタル庁が公開している「ウェブアクセシビリティ導入ガイドブック」においても、このJIS規格を基礎とした実践的な取り組み方が解説されています。

### 海外の法規制

#### アメリカ合衆国

**Americans with Disabilities Act（ADA）** は1990年に制定された連邦公民権法であり、障害のある人々に対する日常生活のあらゆる場面での差別を禁止しています。同法は雇用・公共サービス・公共交通・通信などの幅広い領域を対象としており、Webサイトやデジタルサービスもその適用範囲に含まれると解釈されています。実際に、ADAに基づくWebアクセシビリティに関する訴訟は年々増加しており、WCAG 2.1 レベルAAへの適合が実質的な基準として採用されるケースが多くなっています。

**Section 508 of the Rehabilitation Act of 1973** は、連邦政府機関が電子情報技術（EIT）を開発・調達・維持・使用する際に、障害のある人々にもアクセシブルなものとすることを義務付けています。1998年の改正で強化され、2017年にはU.S. Access Boardが情報通信技術（ICT）のアクセシビリティ基準を更新し、WCAG 2.0との整合が図られました。この基準は欧州委員会が発行する基準とも調和されており、国際的な整合性が意識されています。

#### 欧州連合（EU）

**European Accessibility Act（EAA・Directive 2019/882）** は、EU加盟国間のアクセシビリティ要件の不一致を解消し、アクセシブルな製品とサービスの域内市場の機能を改善することを目的としたEU指令です。**2025年6月28日が加盟国での適用開始期限**とされており、コンピュータとオペレーティングシステム、ATM、スマートフォン、電子書籍、ECサイト、銀行サービス、旅客輸送サービスなどが対象範囲に含まれます。技術的な準拠としては、欧州のICTアクセシビリティ規格であるEN 301 549（WCAG 2.1を取り込んだもの）が参照されます。EU市場向けにデジタル製品やサービスを提供する事業者は、日本企業であってもこの指令の影響を受けます。

EU加盟国の公共機関のWebサイトについては、先行する **Web Accessibility Directive（Directive 2016/2102）** がすでに適用されており、公共機関のWebサイトおよびモバイルアプリケーションにEN 301 549への適合を義務付けています。

#### 英国

**Equality Act 2010** は、障害を含む保護特性（protected characteristics）に基づく差別を禁止する英国の包括的な差別禁止法です。サービス提供者には障害のある人々に対する「合理的調整義務」（duty to make adjustments）が課されており、Webサイトもその対象に含まれます。EU離脱後もこの法律は継続して適用されています。

### 法規制の影響のまとめ

| 国・地域 | 主な法規制 | Webアクセシビリティへの影響 | 技術基準 |
|---------|-----------|------------------------|----------|
| 日本 | 障害者差別解消法（2024年改正施行） | 民間事業者にも合理的配慮の提供が義務化 | JIS X 8341-3:2016（WCAG 2.0 ベース） |
| アメリカ | ADA・Section 508 | ADAに基づくWebアクセシビリティ訴訟が増加。連邦政府機関はSection 508で義務化 | WCAG 2.0 / 2.1 レベルAA |
| EU | EAA（Directive 2019/882）・Web Accessibility Directive | 2025年6月からデジタル製品・サービスに幅広く適用 | EN 301 549（WCAG 2.1 ベース） |
| 英国 | Equality Act 2010 | サービス提供者に合理的調整義務 | WCAG 2.1 レベルAA（実務基準） |

このように、日本を含む主要国・地域ではWebアクセシビリティへの対応が法的に求められており、その技術基準としてWCAGが共通して参照されています。グローバルにサービスを展開する事業者は、WCAG 2.2 レベルAAへの適合を目標とすることで、複数の法的要件を横断的に満たすことが可能です。

## WCAG 2.2 の全体像

WCAG 2.2は **4つの原則** と **13のガイドライン**、そして各ガイドラインに紐づく **達成基準（Success Criteria）** で構成されています。達成基準にはA（最低）、AA、AAA（最高）の3つの適合レベルがあり、一般的にはレベルAAまでの準拠が法規制や業界標準として求められることが多い状況です。

### 4つの原則（POUR）

WCAG 2.2の土台となる4つの原則は、Webアクセシビリティが目指すべき方向性を示しています。

**1. 知覚可能（Perceivable）** は、情報とUIコンポーネントがユーザーに知覚可能な方法で提示されなければならないという原則です。視覚・聴覚に頼らなくてもコンテンツを把握できる代替手段を提供することが求められます。

**2. 操作可能（Operable）** は、UIコンポーネントとナビゲーションが操作可能でなければならないという原則です。キーボードのみでの操作や、十分な操作時間の確保、発作を引き起こさないコンテンツ設計などが含まれます。

**3. 理解可能（Understandable）** は、情報とUIの操作が理解可能でなければならないという原則です。読みやすいテキスト、予測可能なページ動作、入力を支援する機能などが該当します。

**4. 堅牢（Robust）** は、コンテンツが支援技術を含む多様なユーザーエージェントによって確実に解釈できるほど堅牢でなければならないという原則です。

### 達成基準の一覧（レベル別）

以下にWCAG 2.2の達成基準をレベル別に整理します。WCAG 2.2で新たに追加された項目には「🆕」を付記しています。

#### レベルA（最低限の適合）

| # | 達成基準 | 概要 |
|---|---------|------|
| 1.1.1 | 非テキストコンテンツ | すべての非テキストコンテンツにテキストの代替を提供する |
| 1.2.1 | 音声のみ・映像のみ（収録済み） | 収録済みの音声・映像のみのメディアに代替を提供する |
| 1.2.2 | キャプション（収録済み） | 収録済み音声コンテンツにキャプションを提供する |
| 1.2.3 | 音声解説またはメディアの代替（収録済み） | 収録済み映像に音声解説またはメディアの代替を提供する |
| 1.3.1 | 情報および関係性 | 表示で伝達される情報・構造・関係性をプログラム的に決定可能にする |
| 1.3.2 | 意味のある順序 | コンテンツの正しい読み上げ順序をプログラム的に決定可能にする |
| 1.3.3 | 感覚的な特徴 | 指示が形状・色・サイズ・位置・音のみに依存しない |
| 1.4.1 | 色の使用 | 色だけを情報伝達の唯一の視覚的手段としない |
| 1.4.2 | 音声の制御 | 自動再生される音声を停止・一時停止・音量調整可能にする |
| 2.1.1 | キーボード | すべての機能をキーボードで操作可能にする |
| 2.1.2 | キーボードトラップなし | キーボードフォーカスが特定のコンポーネントから移動できなくならない |
| 2.1.4 | 文字キーのショートカット | 文字のみのキーボードショートカットを無効化・再割り当て可能にする |
| 2.2.1 | タイミング調整可能 | 時間制限がある場合にユーザーが調整可能にする |
| 2.2.2 | 一時停止・停止・非表示 | 動き・点滅・スクロール・自動更新するコンテンツを制御可能にする |
| 2.3.1 | 3回の閃光またはしきい値以下 | 1秒間に3回を超える閃光を含むコンテンツを含まない |
| 2.4.1 | ブロックスキップ | 繰り返されるコンテンツブロックをスキップする手段を提供する |
| 2.4.2 | ページタイトル | Webページにトピックや目的を説明するタイトルを設定する |
| 2.4.3 | フォーカス順序 | フォーカス可能なコンポーネントが意味と操作性を保つ順序でフォーカスを受け取る |
| 2.4.4 | リンクの目的（コンテキスト内） | リンクテキストまたはその文脈からリンクの目的が判断可能にする |
| 2.5.1 | ポインタジェスチャ | マルチポイント・パスベースのジェスチャを単一ポインタでも操作可能にする |
| 2.5.2 | ポインタのキャンセル | 単一ポインタ操作のダウンイベントで即座に機能を実行しない |
| 2.5.3 | ラベルとアクセシブルネーム | UIコンポーネントの視覚的ラベルがアクセシブルネームに含まれる |
| 2.5.4 | モーションによる操作 | デバイスモーションで操作可能な機能にUIコンポーネントでの代替操作を提供する |
| 3.1.1 | ページの言語 | ページのデフォルト言語をプログラム的に決定可能にする |
| 3.2.1 | フォーカス時 | フォーカスを受け取ったときにコンテキストの変化を開始しない |
| 3.2.2 | 入力時 | 設定変更時にコンテキストの変化を自動的に発生させない |
| 3.2.6 | 一貫したヘルプ 🆕 | ヘルプ機構がページ間で同じ相対的順序で提示される |
| 3.3.1 | エラーの特定 | 入力エラーが自動検出された場合にエラー項目を特定しテキストで説明する |
| 3.3.2 | ラベルまたは説明 | ユーザー入力が必要な場合にラベルまたは説明を提供する |
| 3.3.7 | 冗長な入力 🆕 | 同一プロセスで以前入力した情報を再入力させない |
| 4.1.2 | 名前・役割・値 | UIコンポーネントの名前と役割がプログラム的に決定可能である |

#### レベルAA（推奨される適合レベル）

| # | 達成基準 | 概要 |
|---|---------|------|
| 1.2.4 | キャプション（ライブ） | ライブ音声コンテンツにキャプションを提供する |
| 1.2.5 | 音声解説（収録済み） | 収録済み映像コンテンツに音声解説を提供する |
| 1.3.4 | 表示の向き | コンテンツが特定の表示向きに制限されない |
| 1.3.5 | 入力目的の特定 | ユーザー情報を収集する入力フィールドの目的をプログラム的に決定可能にする |
| 1.4.3 | コントラスト（最低限） | テキストと背景のコントラスト比が4.5:1以上（大きなテキストは3:1以上） |
| 1.4.4 | テキストのサイズ変更 | テキストを200%まで拡大してもコンテンツや機能が損なわれない |
| 1.4.5 | 文字画像 | 技術的に可能な場合は文字画像ではなくテキストを使用する |
| 1.4.10 | リフロー | 320CSSピクセル幅（横スクロールコンテンツは256CSSピクセル高）で2方向のスクロールを必要としない |
| 1.4.11 | 非テキストのコントラスト | UIコンポーネントとグラフィックのコントラスト比が3:1以上 |
| 1.4.12 | テキストの間隔 | 行の高さ・段落間隔・文字間隔・単語間隔を調整してもコンテンツや機能が損なわれない |
| 1.4.13 | ホバーまたはフォーカスで表示されるコンテンツ | 追加コンテンツを解除可能・ホバー可能・持続的にする |
| 2.4.5 | 複数の手段 | Webページセット内のページを見つける方法が複数提供される |
| 2.4.6 | 見出しおよびラベル | 見出しとラベルがトピックまたは目的を説明する |
| 2.4.7 | フォーカスの可視性 | キーボード操作可能なUIのフォーカスインジケータが視覚的に確認可能である |
| 2.4.11 | フォーカスの遮蔽防止（最低限）🆕 | フォーカスを受けたコンポーネントが作成者のコンテンツにより完全に隠されない |
| 2.5.7 | ドラッグ操作 🆕 | ドラッグ操作を使用する機能にドラッグなしの代替手段を提供する |
| 2.5.8 | ターゲットサイズ（最低限）🆕 | ポインタ入力のターゲットサイズが24×24CSSピクセル以上 |
| 3.1.2 | 部分的な言語 | 各文節やフレーズの言語をプログラム的に決定可能にする |
| 3.2.3 | 一貫したナビゲーション | ナビゲーションが複数ページで同じ相対的順序で繰り返される |
| 3.2.4 | 一貫した識別 | 同じ機能を持つコンポーネントが一貫して識別される |
| 3.3.3 | エラーの修正候補 | 入力エラーが自動検出され修正候補が分かる場合はそれを提供する |
| 3.3.4 | エラーの防止（法的・金銭的・データ） | 法的義務等を伴うページでは操作の取り消し・検証・確認のいずれかを提供する |
| 3.3.8 | アクセシブルな認証（最低限）🆕 | 認証プロセスで認知機能テストを要求しない（代替手段またはメカニズムを提供） |
| 4.1.3 | ステータスメッセージ | ステータスメッセージをrole等でプログラム的に決定可能にする |

#### レベルAAA（最高水準）

| # | 達成基準 | 概要 |
|---|---------|------|
| 1.2.6 | 手話（収録済み） | 収録済み音声コンテンツに手話通訳を提供する |
| 1.2.7 | 拡張音声解説（収録済み） | 映像の前景音声の間に十分な間合いがない場合に拡張音声解説を提供する |
| 1.2.8 | メディアの代替（収録済み） | 収録済み同期メディア・映像のみのメディアに代替を提供する |
| 1.2.9 | 音声のみ（ライブ） | ライブ音声コンテンツに同等情報の代替を提供する |
| 1.3.6 | 目的の特定 | UIコンポーネント・アイコン・リージョンの目的をプログラム的に決定可能にする |
| 1.4.6 | コントラスト（強化） | テキストと背景のコントラスト比が7:1以上（大きなテキストは4.5:1以上） |
| 1.4.7 | 背景音が小さいまたは無し | 前景音声に対して背景音を20dB以上低くする |
| 1.4.8 | 視覚的な表現 | テキストの前景色・背景色・行幅・配置・行間・サイズをユーザーが調整可能にする |
| 1.4.9 | 文字画像（例外なし） | 純粋な装飾または本質的な場合を除き文字画像を使用しない |
| 2.1.3 | キーボード（例外なし） | すべての機能がキーボードで特定のタイミングなしに操作可能である |
| 2.2.3 | タイミング不要 | タイミングがコンテンツに必須の要素ではない |
| 2.2.4 | 中断 | 緊急時を除きユーザーが中断を延期・抑制可能にする |
| 2.2.5 | 再認証 | 認証セッション期限切れ後にデータを失わずに活動を継続可能にする |
| 2.2.6 | タイムアウト | データ損失の原因となるタイムアウトを事前に警告する |
| 2.3.2 | 3回の閃光 | 1秒間に3回を超えて閃光するコンテンツを含まない |
| 2.3.3 | インタラクションによるアニメーション | インタラクションで発生するモーションアニメーションを無効化可能にする |
| 2.4.8 | 現在位置 | ページセット内におけるユーザーの現在位置情報を提供する |
| 2.4.9 | リンクの目的（リンクのみ） | リンクテキストのみからリンクの目的を特定可能にする |
| 2.4.10 | セクション見出し | セクション見出しでコンテンツを構成する |
| 2.4.12 | フォーカスの遮蔽防止（強化）🆕 | フォーカスを受けたコンポーネントのいかなる部分も隠されない |
| 2.4.13 | フォーカスの外観 🆕 | フォーカスインジケータが十分な面積とコントラストを持つ |
| 2.5.5 | ターゲットサイズ（強化） | ポインタ入力のターゲットサイズが44×44CSSピクセル以上 |
| 2.5.6 | 同時入力メカニズム | プラットフォームで利用可能な入力モダリティの使用を制限しない |
| 3.1.3 | 珍しい用語 | 特殊な意味で使用される用語の定義を特定する仕組を提供する |
| 3.1.4 | 略語 | 略語の展開形式や意味を特定する仕組を提供する |
| 3.1.5 | 読解レベル | 中学校教育修了レベルを超える読解力を要するテキストに補足コンテンツを提供する |
| 3.1.6 | 発音 | 文脈上意味が曖昧になる単語の発音を特定する仕組を提供する |
| 3.2.5 | 要求による変化 | コンテキストの変化はユーザーの要求によってのみ開始される |
| 3.3.5 | ヘルプ | コンテキストに応じたヘルプを利用可能にする |
| 3.3.6 | エラーの防止（すべて） | ユーザーが情報を送信するすべてのページで取り消し・検証・確認のいずれかを提供する |
| 3.3.9 | アクセシブルな認証（強化）🆕 | 認証プロセスで認知機能テストを要求しない（オブジェクト認識・個人コンテンツの例外なし） |

## 設計のポイント

WCAG 2.2の達成基準を踏まえ、Webアプリケーションの設計段階で意識すべきポイントを原則ごとに整理します。

### 知覚可能（Perceivable）の設計ポイント

テキスト代替については、すべての非テキストコンテンツ（画像、アイコン、チャートなど）に `alt` 属性や `aria-label` を設定し、装飾的な要素には空のalt属性（`alt=""`）を使用してスクリーンリーダーが無視できるようにすることが重要です。

コントラストについては、通常テキストで4.5:1以上、大きなテキストで3:1以上、UIコンポーネントと必要なグラフィック要素で3:1以上のコントラスト比を確保する必要があります。デザイントークンを使ってシステマティックに管理することが有効です。

レスポンシブデザインについては、320CSSピクセル幅において横スクロールなしでコンテンツが表示され、テキストを200%まで拡大してもコンテンツや機能が損なわれないレイアウト設計が求められます。テキストの行間・段落間隔・文字間隔・単語間隔をユーザーが調整しても崩れないCSS設計も必要です。

### 操作可能（Operable）の設計ポイント

キーボードの完全サポートについては、すべてのインタラクティブなUI要素がTabキー・Enterキー・矢印キー・Escapeキーで操作可能であること、フォーカスが論理的な順序で移動すること、フォーカストラップが発生しないこと、フォーカスインジケータが常に視認可能であることが求められます。

WCAG 2.2の新しい要件として、フォーカスを受けたコンポーネントがスティッキーヘッダーやフッター、モーダルの背面などの作成者コンテンツにより完全に隠されないようにする必要があります（2.4.11 フォーカスの遮蔽防止）。

ターゲットサイズについては、WCAG 2.2で新たに追加された達成基準 2.5.8 により、インタラクティブなターゲットサイズを最低24×24CSSピクセル以上にする必要があります。タッチデバイスではさらに大きな44×44CSSピクセル以上（レベルAAA）が推奨されます。

ドラッグ操作の代替については、WCAG 2.2の達成基準 2.5.7 により、ドラッグ＆ドロップで実現される機能にはクリックやボタン操作による代替手段を必ず提供する必要があります。

### 理解可能（Understandable）の設計ポイント

フォームの入力支援については、入力フィールドに明確なラベルと説明を提供し、エラーが発生した場合には何が問題で、どう修正すべきかをテキストで明示することが大切です。WCAG 2.2の新しい達成基準 3.3.7（冗長な入力）により、同一プロセス内で以前にユーザーが入力した情報を再度入力させないか、自動補完で提供する設計が求められます。

一貫性のあるヘルプについては、WCAG 2.2の達成基準 3.2.6 により、ヘルプ機能（連絡先情報、チャットボット、セルフヘルプなど）をページ間で一貫した位置に配置する必要があります。

アクセシブルな認証については、WCAG 2.2の達成基準 3.3.8 により、ログインプロセスでパスワードの記憶やパズルの解決などの認知機能テストを唯一の手段としないようにする必要があります。パスワードマネージャーのサポート、コピー＆ペーストの許可、生体認証やOAuthなどの代替認証手段を設計に組み込むことが重要です。

### 堅牢（Robust）の設計ポイント

セマンティックHTMLについては、適切なHTML要素とARIAロールを使用してUIコンポーネントの名前・役割・値が支援技術によってプログラム的に決定可能にすることが必要です。ステータスメッセージ（成功通知、エラー通知、プログレスバーなど）には `role="status"` や `role="alert"` を使用して、スクリーンリーダーがフォーカス移動なしに変更を通知できるようにします。

## Fluent UI によるアクセシビリティ設計の省力化

Microsoft の Fluent UI デザインシステムは「すべての人のためのデザイン」を原則に掲げ、コンポーネントレベルでアクセシビリティ対応が組み込まれています。公式サイトでは「Fluent のコンポーネントは WCAG 2.1 AA 基準を満たすかそれを超える（meet or surpass WCAG 2.1 AA standards）」と明記されており、WCAG 2.2とWCAG 2.1の達成基準は上位互換の関係にあるため、WCAG 2.1由来の達成基準についてはFluent UIのコンポーネントを正しく使用するだけで対応が可能です。

ただし、ここで言う「正しく使用する」とは、単にコンポーネントを配置するだけではなく、**Fluent UIが定めるアクセシビリティ設計ガイドライン**に沿って構築することを意味します。Fluent UIの公式アクセシビリティページでは、7つのガイドライン領域がチェックポイントとして定義されています。本章ではまずこれらのガイドラインそれぞれの意味を掘り下げて解説し、そのうえでガイドラインに沿って**正しく使った場合**にどのWCAG達成基準がカバーされるのか、**沿わなかった場合**にどのような問題が生じるのかを明らかにします。

### Fluent UI アクセシビリティ設計ガイドラインの詳細

#### 1. 構造・階層・ナビゲーション（Structure, hierarchy, and navigation）

このガイドラインは、情報の組織化とナビゲーションの予測可能性に関するものです。Fluent UIは、タイプランプ（Display, Title 1〜3, Subtitle 1〜2, Body 1, Caption 1〜2 の各スタイル）、カラー、ディバイダー、スペーシングといった設計要素を使ってコンテンツの構造とグルーピングを視覚的に表現する方法を定義しています。

Fluent UIの公式ガイドラインが特に強調するのは **「スキャン可能な見出しの作成」**です。大きなテキストや太字による見出しは視覚ユーザーが素早く情報を把握するのに役立ちますが、スクリーンリーダーユーザーにとっては見出し要素（`<h1>`〜`<h6>`）の**論理的な順序**が最も重要なナビゲーション手段となります。見出しレベルは飛ばさずに使い（h1の次はh2、h2の次はh3）、大きな見出しスタイルを装飾目的で乱用しないことが求められます。

Fluent UIのタイポグラフィシステムは、Webでは Segoe UI をベースとした明確なタイプランプを提供しており、Display（68px/92px）から Caption 2（10px/14px）まで段階的なサイズ・ウェイトの区分が定義されています。開発者がこのタイプランプのセマンティックな役割（Title → Subtitle → Body → Caption）に従って見出しレベルを割り当てることで、視覚的な階層とHTMLの見出しレベルが自然に一致します。

#### 2. キーボードナビゲーションと支援技術（Keyboard navigation and assistive technologies）

このガイドラインは、マウスやタッチではなくキーボードを使用してUIを操作するユーザーと、スクリーンリーダーや点字ディスプレイなどの支援技術を使用するユーザーのための設計です。Fluent UIはすべてのインタラクティブコンポーネントにキーボード操作サポートを組み込んでいますが、それが正しく機能するためにはフォーカス管理の設計原則に従う必要があります。

Fluent UIの公式ガイドラインが強調する **「フォーカス管理」**は、キーボードユーザーが現在どのUI要素と対話しているかを常に視覚的に判別でき、かつフォーカスが論理的な順序で移動することを求めるものです。フォーカスは **「Z」パターン**（左→右、上→下）に従って移動するべきであり、ダイアログやポップオーバーなどの一時的なUIを閉じた後にフォーカスが「失われて」ページの先頭に戻ることがあってはなりません。閉じた後はフォーカスをトリガー元の要素に返す設計が必要です。

#### 3. カラー（Color）

このガイドラインは、色の使い方がアクセシビリティに与える影響に関するものです。Fluent UIは3つのカラーパレット（ニュートラル、共有、ブランド）を定義し、そのすべてでWCAG AAのコントラスト基準を満たすように設計されています。

具体的なコントラスト要件として、**通常テキスト（18.5px Bold未満かつ24px Regular未満）は背景とのコントラスト比が4.5:1以上**、**大きなテキスト（18.5px Bold以上または24px Regular以上）は3:1以上**、**インタラクティブコンポーネントや非テキスト要素（アイコンなど）は隣接する色との間で3:1以上**のコントラスト比を確保する必要があります。

Fluent UIのカラーシステムでは、デザイントークンを通じてこれらのコントラスト要件を満たすカラー値が提供されています。ダークモードでは共有パレットの彩度と明度が自動調整され、目の疲れを軽減するとともにアクセシビリティに配慮した表示が実現されます。ただし、カラーガイドラインで最も重要な原則は **「色だけを情報伝達の手段にしないこと」**です。色はテキスト、グラフィック、その他のインジケータ（形状の変化やアイコン付加など）と組み合わせて使用し、色覚に制約があるユーザーにも情報が伝わるようにすることが求められます。

また、セマンティックカラー（赤＝危険、黄色＝注意、緑＝成功などの意味を持つ色）は一貫して使用し、装飾的な目的には使わないことがFluent UIの公式ガイドとして明示されています。

#### 4. レスポンシブレイアウト（Responsive layouts）

このガイドラインは、ユーザーが指定する画面の向き（縦・横）やズーム倍率にアプリケーションが適応しなければならないという要件を扱います。視力に制約があるユーザーはブラウザのズーム機能を日常的に使用しており、400%までのズームでコンテンツがリフロー（再配置）されて水平スクロールが不要であることが期待されます。

Fluent UIの公式ガイドラインは**「ズームのための設計（Design for zoom）」**として、ページレイアウトが**400%ズーム時にも水平スクロールなしでコンテンツを表示できるよう** **320ピクセル幅のブレークポイント**まで対応することを求めています。さらに**テキストのみのズームが200%に達してもコンテンツがクリッピングされないこと**が要件に含まれています。

Fluent UIのタイポグラフィトークンは `rem` ベースで設計されているため、ブラウザのフォントサイズ設定に追従して自動的にスケーリングされます。また、Flexbox / Grid ベースのレイアウトコンポーネントを使うことで、ビューポートの幅に応じたコンテンツのリフローを実現しやすくなっています。

#### 5. リッチメディアと代替（Rich media and alternatives）

このガイドラインは、画像・映像・音声などのリッチメディアに対して代替手段を提供する責務を定義しています。視覚障がいのあるユーザーはスクリーンリーダーを通じて画像の内容を理解するため、**説明的な代替テキスト（alt text）**の提供が不可欠です。映像コンテンツにはクローズドキャプションを付与し、可能であればユーザーが自分のコントラスト設定でキャプションの表示をカスタマイズできるようにすることが推奨されています。カスタマイズが実現できない場合でも、キャプションが十分なコントラスト比を持つことが条件です。

このガイドライン領域は、UIフレームワークが自動的に対応できる部分が限られています。Fluent UIの Image コンポーネントは `alt` 属性を受け取り、装飾的な画像には `alt=""` を設定するAPIを提供しますが、実際の代替テキストの内容が画像の目的を的確に伝えているかどうかは開発者やコンテンツ作成者の判断に委ねられます。

#### 6. 意味のあるテキスト（Meaningful text）

このガイドラインは、UIに表示されるテキストが助けになる（helpful）、平易な（plain）言語で書かれ、簡潔で一貫性があり、説明的であることを求めるものです。Fluent UIのコンテンツデザインガイダンスでは、文章は短く構成し、専門用語は噛み砕いて広い読者に理解可能にすることが推奨されています。

具体的なベストプラクティスとして、リンクテキストには「ここをクリック」のような曖昧なテキストではなくリンク先を説明する短く具体的なテキストを使用すること、「上の」「右の」といった方向指示語を避けること（画面を見えないユーザーには意味がなく、ローカライゼーション上の問題も生じる）、画像やアイコンにはスクリーンリーダーが読み上げるための代替テキストを作成すること、見出し・表・リストを使ってコンテンツを論理的に構成し、キーポイントを強調し概念間の関係を補強することが挙げられています。

#### 7. コード標準（Code standards）とデザインアクセシビリティスペック

このガイドラインは、アクセシビリティを最初のワイヤーフレームから最後の `div` まで一貫して考慮することを求めるものです。Web標準に準拠した論理的かつセマンティックなコードを書き、WAI-ARIA オーサリングプラクティスに従ってアクセシブルな体験を構築することが求められます。

Fluent UIのコンポーネントにはWAI-ARIAに基づくロール・ステート・プロパティがあらかじめ組み込まれており、例えば Dialog には `role="dialog"` と `aria-modal="true"` が自動設定され、Menu には `role="menu"` と `role="menuitem"` が付与されます。

また、**デザインアクセシビリティスペック**として、設計仕様書を作成する段階でパディングや色だけでなく、フォーカス順序、スクリーンリーダーのアノテーション、セマンティック構造といったアクセシビリティに関する情報を文書化することが求められています。Fluent UIは Figma プラグイン「A11y - Focus Order」と「Accessible Design Toolkit」を公開しており、デザインツール上でアクセシビリティ仕様を設計に組み込むワークフローを支援しています。

### ガイドラインに沿って正しく使った場合

上記の7つのガイドラインに従ってFluent UIのコンポーネントとデザイントークンを使用した場合、以下のWCAG達成基準がコンポーネントの標準機能でカバーされます。各達成基準について、Fluent UIの対応内容に加え、設計上の注意点と実装例を併記します。

#### レベルA でカバーされる達成基準

##### 1.3.1 情報および関係性（ガイドライン①構造・階層 / ⑦コード標準）

**Fluent UIの対応内容：** セマンティックなHTML構造とARIAロールがコンポーネントに組み込み済みです。Accordion は見出しレベルの指定が可能で、Table / DataGrid は `role="grid"` や `role="row"` などの適切なARIA属性を自動付与します。

**設計上の注意点：** Fluent UIのコンポーネントが自動的にセマンティクスを付与するのはコンポーネントの内部構造に限られます。ページ全体の構造については、開発者が適切なランドマーク要素（`<header>`, `<nav>`, `<main>`, `<aside>`, `<footer>`）を配置し、見出しレベルを論理的に使用してコンテンツの関係性を表現する必要があります。特に Accordion コンポーネントを使用する場合は `headingTag` プロパティで見出しレベルを明示的に指定してページ全体の見出し階層と整合させることが重要です。

```tsx
// ✅ 良い例：Accordionの見出しレベルをページ構造に合わせて指定
<main>
  <h1>設定</h1>
  <Accordion>
    <AccordionItem value="1">
      <AccordionHeader as="h2">一般設定</AccordionHeader>
      <AccordionPanel>...</AccordionPanel>
    </AccordionItem>
    <AccordionItem value="2">
      <AccordionHeader as="h2">通知設定</AccordionHeader>
      <AccordionPanel>...</AccordionPanel>
    </AccordionItem>
  </Accordion>
</main>

// ❌ 悪い例：見出しレベルを指定せずデフォルトのまま使用
<div>
  <span style={{ fontSize: "24px" }}>設定</span>
  <Accordion>
    <AccordionItem value="1">
      <AccordionHeader>一般設定</AccordionHeader>
      ...
    </AccordionItem>
  </Accordion>
</div>
```

##### 1.3.2 意味のある順序（ガイドライン①構造・階層）

**Fluent UIの対応内容：** コンポーネントはDOMの論理順序に従った読み上げ順序を保持します。視覚的なレイアウトとDOMの順序が一致するように設計されています。

**設計上の注意点：** CSSの `order` プロパティや `flex-direction: row-reverse` を使って視覚的な表示順序を変更した場合、スクリーンリーダーはDOMの順序で読み上げるため、視覚的な順序と読み上げ順序に乖離が生じます。Fluent UIのレイアウトコンポーネントを使用する場合でも、視覚的順序を変更する際はDOMの順序自体を変更するか、`aria-flowto` などで補完する必要があります。

```tsx
// ✅ 良い例：DOM順序と視覚的順序が一致
<div style={{ display: "flex" }}>
  <nav>サイドバー</nav>
  <main>メインコンテンツ</main>
</div>

// ❌ 悪い例：CSSで視覚順序を逆転（DOMの順序と不一致）
<div style={{ display: "flex", flexDirection: "row-reverse" }}>
  <main>メインコンテンツ</main>
  <nav>サイドバー</nav>
</div>
```

##### 1.4.1 色の使用（ガイドライン③カラー）

**Fluent UIの対応内容：** デザイントークンは色だけに依存しないUI表現（アイコン・テキスト・形状の併用）を推奨しています。セマンティックカラーは装飾ではなく意味のある情報伝達に限定して使用されます。Field コンポーネントでは `validationState` に応じてエラーアイコン（`ErrorCircle12Filled`）、警告アイコン（`Warning12Filled`）、成功アイコン（`CheckmarkCircle12Filled`）が自動的に追加されます。

**設計上の注意点：** Fluent UIのコンポーネント外でステータスを表現する場合にも、色だけでなくアイコンやテキストラベルを必ず併用します。例えば、フォームバリデーションで赤い枠線だけでエラーを示すのではなく、アイコンとテキストでエラー内容を明示します。グラフやチャートではハッチング（斜線パターン）やマーカー形状の変化を色に加えて使用します。

```tsx
// ✅ 良い例：色 + アイコン + テキストでエラーを伝達
<Field
  label="メールアドレス"
  validationState="error"
  validationMessage="有効なメールアドレスを入力してください"
>
  <Input type="email" />
</Field>

// ❌ 悪い例：色だけでエラーを伝達
<Input
  type="email"
  style={{ borderColor: "red" }}  // 色覚に制約があるユーザーには伝わらない
/>
```

##### 2.1.1 キーボード（ガイドライン②キーボード・支援技術）

**Fluent UIの対応内容：** すべてのインタラクティブコンポーネント（Button, Checkbox, Dropdown, Dialog, Menu, TabList 等）が Tab, Enter, Space, Arrow keys, Escape に完全対応しています。WAI-ARIA Authoring Practices で定義されたキーボードインタラクションパターンが各コンポーネントに実装されています。

**設計上の注意点：** Fluent UIのコンポーネントを使っていても、`onClick` のみを設定して `onKeyDown` を設定しない `<div>` をインタラクティブ要素として使ってしまうと、キーボードユーザーはその要素を操作できません。インタラクティブな要素には必ず Fluent UIの Button や Link などのインタラクティブコンポーネントを使用します。また、カスタムのキーボードショートカットを実装する場合は、WCAG 2.1.4（文字キーのショートカット）に従い、ユーザーが無効化または再割り当てできる手段を提供する必要があります。

```tsx
// ✅ 良い例：Fluent UIのButtonを使用（キーボード対応済み）
<Button onClick={handleAction}>アクションを実行</Button>

// ❌ 悪い例：divにonClickのみ設定（キーボードでは操作不可）
<div
  onClick={handleAction}
  style={{ cursor: "pointer", color: "blue" }}
>
  アクションを実行
</div>
```

##### 2.1.2 キーボードトラップなし（ガイドライン②キーボード・支援技術）

**Fluent UIの対応内容：** Dialog（モーダル）はEscapeキーで閉じることが可能で、閉じた後にフォーカスがトリガー元へ正しく戻ります。`modalType` が `"modal"` の場合、タブ順序がダイアログ内に制限される適切なフォーカストラップが実装されています。

**設計上の注意点：** Dialog の `modalType` を正しく選択することでフォーカス管理が自動化されますが、`DialogTrigger` を使わずに外部でDialogを制御する場合は、フォーカスの復元を開発者が手動で管理する必要があります。Fluent UIはこの目的のために `useRestoreFocusTarget` フックを提供しています。また、Dialog 内に Menu, Combobox, Dropdown, Popover を含める場合、iOS / macOS のVoiceOverでアクセスできなくなる問題があるため、`DialogSurface` に `aria-modal={false}` を設定する必要があります。

```tsx
// ✅ 良い例：DialogTrigger を使用（フォーカス復元が自動化）
<Dialog>
  <DialogTrigger disableButtonEnhancement>
    <Button>設定を開く</Button>
  </DialogTrigger>
  <DialogSurface>
    <DialogBody>
      <DialogTitle>設定</DialogTitle>
      <DialogContent>設定内容...</DialogContent>
      <DialogActions>
        <DialogTrigger disableButtonEnhancement>
          <Button appearance="primary">保存</Button>
        </DialogTrigger>
      </DialogActions>
    </DialogBody>
  </DialogSurface>
</Dialog>

// ✅ DialogTrigger を使わない場合：useRestoreFocusTarget でフォーカスを復元
const restoreFocusTargetAttribute = useRestoreFocusTarget();

<Button
  {...restoreFocusTargetAttribute}
  onClick={() => setOpen(true)}
>
  設定を開く
</Button>
<Dialog open={open} onOpenChange={(_, data) => setOpen(data.open)}>
  <DialogSurface>
    <DialogBody>...</DialogBody>
  </DialogSurface>
</Dialog>
```

##### 2.4.1 ブロックスキップ（ガイドライン①構造・階層）

**Fluent UIの対応内容：** ランドマーク（`<nav>`, `<main>` 等）の設計パターンを提供し、ナビゲーションコンポーネント（Nav, Breadcrumb）がランドマーク要素と連携する構造を持っています。

**設計上の注意点：** スキップリンクはFluent UIが自動生成するものではなく、開発者がページの先頭に明示的に配置する必要があります。メインコンテンツへのスキップリンクは視覚的には非表示（フォーカス時のみ表示）にし、キーボードユーザーが繰り返されるナビゲーションを飛ばしてメインコンテンツに直接アクセスできるようにします。

```tsx
// ✅ 良い例：スキップリンクとランドマーク要素を組み合わせる
<>
  <a
    href="#main-content"
    className={styles.skipLink}  // フォーカス時のみ表示するCSS
  >
    メインコンテンツへスキップ
  </a>
  <header>
    <Nav>...</Nav>
  </header>
  <main id="main-content">
    <h1>ページタイトル</h1>
    ...
  </main>
</>
```

##### 2.4.3 フォーカス順序（ガイドライン②キーボード・支援技術）

**Fluent UIの対応内容：** コンポーネントのtab順序が「Z」パターン（左→右、上→下）の論理的順序で設定済みです。TabList は矢印キーでタブ間を移動し、Tab キーでタブリスト外へ遷移する WAI-ARIA の Tabs パターンを実装しています。

**設計上の注意点：** `tabIndex` に正の値（`tabIndex={1}` 等）を使用するとDOMの自然なtab順序が崩れるため、原則として使用しないでください。動的にコンテンツが追加・削除される場合（遅延読み込みやアコーディオンの展開など）、追加されたコンテンツのフォーカス順序が視覚的な位置と整合しているかを確認する必要があります。Dialog 内で最初にフォーカスを受ける要素を変更したい場合は、Fluent UIが提供する `autoFocus` またはエフェクトによる手動フォーカスを使用します。

```tsx
// ✅ 良い例：Dialog内の初期フォーカスをエフェクトで制御
const inputRef = React.useRef<HTMLInputElement>(null);
React.useEffect(() => {
  if (open) {
    inputRef.current?.focus();
  }
}, [open]);

<Dialog open={open}>
  <DialogSurface>
    <DialogBody>
      <DialogTitle>検索</DialogTitle>
      <DialogContent>
        <Field label="検索キーワード">
          <Input ref={inputRef} />
        </Field>
      </DialogContent>
    </DialogBody>
  </DialogSurface>
</Dialog>

// ❌ 悪い例：tabIndexに正の値を使用
<Input tabIndex={2} />
<Button tabIndex={1}>送信</Button>  // 不自然なtab順序になる
```

##### 2.5.1 ポインタジェスチャ（ガイドライン②キーボード・支援技術）

**Fluent UIの対応内容：** マルチポイントやパスベースのジェスチャ（ピンチ、スワイプなど）に依存するコンポーネントについて、キーボードやシングルクリックによる代替手段を組み込んでいます。

**設計上の注意点：** カスタムでドラッグ＆ドロップ操作を実装する場合は、必ずキーボードまたはシングルクリックによる代替操作を提供する必要があります。例えば、並べ替え可能なリストではドラッグに加えて「上に移動」「下に移動」ボタンを提供します。

##### 2.5.3 ラベルとアクセシブルネーム（ガイドライン⑥意味のあるテキスト）

**Fluent UIの対応内容：** Label / Field コンポーネントにより、視覚的ラベルとアクセシブルネーム（`aria-label` や `aria-labelledby` で設定される名前）の一致を実現します。

**設計上の注意点：** `aria-label` の値は視覚的に表示されているラベルテキストを含む必要があります。視覚的ラベルに「検索」と表示されているボタンに `aria-label="サイト内検索を実行する"` を設定するのは許容されますが（「検索」を含んでいるため）、`aria-label="Search"` のように全く異なるテキストを設定すると音声認識ユーザーが操作できなくなります。Fluent UIの Field コンポーネントを使うと `<label>` と入力要素の関連づけが自動化されるため、この問題を回避しやすくなります。

```tsx
// ✅ 良い例：Fieldによるラベルの自動関連づけ
<Field label="ユーザー名" required>
  <Input />
</Field>

// ✅ 良い例：アイコンのみのボタンにaria-labelを設定
<Button
  aria-label="検索"
  icon={<SearchRegular />}
/>

// ❌ 悪い例：視覚的ラベルとaria-labelが不一致
<Button aria-label="Find items">検索</Button>
```

##### 3.2.1 フォーカス時 / 3.2.2 入力時（ガイドライン②キーボード・支援技術）

**Fluent UIの対応内容：** フォーカスを受け取ったときにコンテキストの変更（ページ遷移やフォームの自動送信など）を行わないコンポーネント設計になっています。Dropdown / Select / Combobox 等は選択のみでは意図しないコンテキスト変化を発生させません。

**設計上の注意点：** ユーザーが値を選択しただけでページ遷移やフォーム送信が発生する挙動は WCAG 違反です。コンテキストの変更はユーザーの明示的なアクション（送信ボタンのクリックなど）の後に行われなければなりません。 Fluent UI の Combobox や Dropdown を使用する場合、`onOptionSelect` コールバック内で直接ページ遷移を行わず、ユーザーが確認ボタンを押すまで遷移を待機する設計にします。

```tsx
// ✅ 良い例：選択後に確認ボタンで遷移
const [selected, setSelected] = useState("");
<Combobox onOptionSelect={(_, data) => setSelected(data.optionValue ?? "")}>
  <Option value="page1">ページ1</Option>
  <Option value="page2">ページ2</Option>
</Combobox>
<Button onClick={() => navigate(selected)}>移動</Button>

// ❌ 悪い例：選択するだけで即ページ遷移
<Combobox onOptionSelect={(_, data) => navigate(data.optionValue ?? "")}>
  <Option value="page1">ページ1</Option>
  <Option value="page2">ページ2</Option>
</Combobox>
```

##### 3.3.1 エラーの特定（ガイドライン⑥意味のあるテキスト / ⑦コード標準）

**Fluent UIの対応内容：** Field コンポーネントの `validationState` と `validationMessage` によりエラーのテキスト表示をサポートします。`validationState="error"` では自動的に `role="alert"` が設定されるためスクリーンリーダーが即座にエラーを読み上げ、さらに子要素の入力コンポーネントに `aria-invalid` が設定されます。

**設計上の注意点：** エラーメッセージは「入力に問題があります」のような曖昧な表現ではなく、「メールアドレスに @ が含まれていません」のように具体的に何が問題でどう修正すべきかを伝える内容にします。複数のフィールドでエラーが発生した場合は、各フィールドに個別のエラーメッセージを表示するとともに、ページの先頭にエラーの概要（何件のエラーがあるか）を `role="alert"` で表示してユーザーの注意を喚起します。`validationMessage` と `hint` を同時に設定することはFluent UIのベストプラクティスで非推奨とされています。

```tsx
// ✅ 良い例：具体的なエラーメッセージ
<Field
  label="パスワード"
  validationState="error"
  validationMessage="パスワードは8文字以上で、大文字・小文字・数字を含む必要があります"
  required
>
  <Input type="password" />
</Field>

// ❌ 悪い例：曖昧なエラーメッセージ
<Field
  label="パスワード"
  validationState="error"
  validationMessage="入力内容を確認してください"
>
  <Input type="password" />
</Field>
```

##### 3.3.2 ラベルまたは説明（ガイドライン⑥意味のあるテキスト）

**Fluent UIの対応内容：** Field コンポーネントが Input / Textarea / Select / SpinButton / Slider / RadioGroup 等に対するラベルと説明テキスト（`hint`）を一貫して提供します。`required` プロパティを設定するとラベルに赤いアスタリスクが追加され、子要素に `aria-required` が設定されます。

**設計上の注意点：** Fieldの子要素には単一のフォームコントロールのみを配置し、複数のコントロールを一つのFieldでラップしないようにします（ラベルは一つのコントロールにのみ関連づけられるため）。Checkbox は独自のラベルを持つため、Fieldのラベルではなく Checkbox の `label` プロパティを使用します（Fieldは `validationMessage` や `hint` の追加には引き続き使用可能）。InfoLabel を使用すると、ラベルに情報ボタン（ⓘ）を追加して補足説明をポップオーバーで表示することもできます。

```tsx
// ✅ 良い例：FieldとInfoLabelの組み合わせ
<Field
  label={
    <InfoLabel info="ISO 8601形式（例：2026-02-15）で入力してください">
      日付
    </InfoLabel>
  }
  hint="YYYY-MM-DD形式"
  required
>
  <Input type="text" />
</Field>

// ✅ Checkboxの場合：Fieldはvalidation目的で使い、ラベルはCheckbox自体に
<Field validationState="error" validationMessage="利用規約への同意が必要です">
  <Checkbox label="利用規約に同意します" />
</Field>
```

##### 4.1.2 名前・役割・値（ガイドライン⑦コード標準）

**Fluent UIの対応内容：** すべてのインタラクティブコンポーネントにWAI-ARIAに基づくロール・ステート・プロパティが自動設定されます。例えば Dialog は `role="dialog"` と `aria-modal="true"` を持ち、Menu は `role="menu"` と `role="menuitem"` を、Switch は `role="switch"` と `aria-checked` を自動的に付与します。

**設計上の注意点：** Fluent UIが設定するARIA属性を開発者が意図せず上書きしないよう注意が必要です。Fluent UIコンポーネントにカスタムの `role` 属性を追加すると、コンポーネント内部のARIA設計と矛盾が生じることがあります。また、短い確認ダイアログでは `DialogSurface` に `aria-describedby` でコンテンツを参照し `aria-labelledby` でタイトルを参照する設定が有効ですが、複雑なフォームを含むダイアログでは `aria-describedby={undefined}` に設定してスクリーンリーダーが大量のコンテンツを読み上げることを防ぐ必要があります。

```tsx
// ✅ 良い例：短い確認ダイアログでaria-describedbyを活用
<Dialog modalType="alert">
  <DialogTrigger disableButtonEnhancement>
    <Button>ファイルを削除</Button>
  </DialogTrigger>
  <DialogSurface aria-describedby="dialog-desc" aria-labelledby="dialog-title">
    <DialogBody>
      <DialogTitle id="dialog-title">ファイルの削除</DialogTitle>
      <DialogContent id="dialog-desc">
        この操作は取り消せません。本当に削除しますか？
      </DialogContent>
      <DialogActions>
        <DialogTrigger disableButtonEnhancement>
          <Button>キャンセル</Button>
        </DialogTrigger>
        <Button appearance="primary">削除</Button>
      </DialogActions>
    </DialogBody>
  </DialogSurface>
</Dialog>

// ✅ 複雑なフォームダイアログではaria-describedbyを無効化
<DialogSurface aria-describedby={undefined}>
  <DialogBody>
    <DialogTitle>ユーザー登録</DialogTitle>
    <DialogContent>
      <Field label="名前"><Input /></Field>
      <Field label="メール"><Input type="email" /></Field>
      <Field label="部署"><Combobox>...</Combobox></Field>
    </DialogContent>
    ...
  </DialogBody>
</DialogSurface>
```

#### レベルAA でカバーされる達成基準

##### 1.3.4 表示の向き（ガイドライン④レスポンシブ）

**Fluent UIの対応内容：** レスポンシブレイアウトシステムが縦横両方の向きに対応しています。

**設計上の注意点：** 特定の表示向きを `orientation: portrait` や `orientation: landscape` で強制的にロックしないようにします。一部のユーザーはデバイスを固定した状態で使用しており、画面の向きを変更できない場合があります。コンテンツが特定の向きに依存しない限り、両方の向きで完全に機能するレイアウトを設計してください。

##### 1.4.3 コントラスト（最低限）（ガイドライン③カラー）

**Fluent UIの対応内容：** デザイントークンのカラーパレットが WCAG AA 基準（通常テキスト：4.5:1、大きなテキスト：3:1）を満たしています。ダークモードでも彩度と明度が自動調整されコントラスト比が維持されます。

**設計上の注意点：** Fluent UIのデザイントークンを使用している限りコントラスト問題は基本的に発生しませんが、カスタムテーマを作成する場合やトークン値を上書きする場合はコントラスト比を必ず検証してください。Fluent UIの Typography ガイドラインでは、通常テキスト（18.5px Bold未満かつ24px Regular未満）で4.5:1以上、大きなテキスト（18.5px Bold 以上または 24px Regular 以上）で3:1以上が必要と明記されています。[TPGi の Color Contrast Checker](https://www.tpgi.com/color-contrast-checker/) による検証が推奨されています。

```tsx
// ✅ 良い例：デザイントークンを使用
import { tokens } from "@fluentui/react-components";

const styles = {
  color: tokens.colorNeutralForeground1,        // 前景色（トークン）
  backgroundColor: tokens.colorNeutralBackground1, // 背景色（トークン）
};

// ❌ 悪い例：ハードコードされた色で低コントラスト
const styles = {
  color: "#999999",          // 薄いグレー
  backgroundColor: "#ffffff", // 白に対して3.5:1 → AA不合格
};
```

##### 1.4.4 テキストのサイズ変更（ガイドライン④レスポンシブ）

**Fluent UIの対応内容：** タイポグラフィトークンが `rem` ベースで設計されており、ブラウザのフォントサイズ設定を変更するとすべてのテキストが比例してスケーリングされます。200%拡大でもコンテンツの切り取りや機能の損失が発生しない設計です。

**設計上の注意点：** フォントサイズに `px` 単位を使用するとブラウザのフォントサイズ変更に追従しないため、テキスト関連のスタイルには `rem` または `em` を使用してください。Fluent UIのタイプランプではWebでのBody 1が 14px/20px（Regular）と定義されていますが、これらはトークンを通じて `rem` 値で適用されます。レイアウトコンテナの高さを固定して `overflow: hidden` を設定すると、テキスト拡大時にコンテンツが切り取られる原因になるため避けるべきです。

```css
/* ✅ 良い例：remベースのフォントサイズ */
.text {
  font-size: var(--fontSizeBase300); /* Fluent UIトークン = 14px相当 */
  line-height: var(--lineHeightBase300);
}

/* ❌ 悪い例：固定pxと固定高さ */
.text {
  font-size: 14px; /* ブラウザ設定に追従しない */
}
.container {
  height: 200px;
  overflow: hidden; /* テキスト拡大時にコンテンツが切れる */
}
```

##### 1.4.10 リフロー（ガイドライン④レスポンシブ）

**Fluent UIの対応内容：** Flexbox / Grid ベースのレスポンシブレイアウトにより 320px 幅までリフロー対応しています。

**設計上の注意点：** Fluent UIのアクセシビリティガイドラインでは 400% ズーム時に水平スクロールなしでコンテンツを表示するため 320px ブレークポイントまでの対応が求められます。固定幅のテーブルやグリッドはビューポート幅が狭い場合に横スクロールが発生する原因となるため、DataGrid を使用する際はカラムの表示・非表示を切り替えるレスポンシブ設計を検討してください。水平スクロールが本質的に必要なコンテンツ（大きなデータテーブル、コードブロックなど）は WCAG 1.4.10 の例外に該当しますが、その場合でもメインコンテンツの横スクロールは避けるべきです。

##### 1.4.11 非テキストのコントラスト（ガイドライン③カラー）

**Fluent UIの対応内容：** UIコンポーネントの境界線・フォーカスリング・アイコンのコントラストが隣接色に対して3:1以上を確保しています。インタラクション状態（rest → hover → pressed → selected）では段階的にコントロールが暗くなりコントラストが強化されます。フォーカス状態ではコントロールの色は変わらず、コンテナに太いストロークが追加されるため、マウスとキーボードの操作を明確に区別できます。

**設計上の注意点：** カスタムアイコンや状態インジケータ（オンライン / オフラインの丸印など）を追加する際は、３:1以上のコントラスト比を確保してください。特に `disabled` 状態のコンポーネントはコントラスト要件の適用対象外ですが、ユーザーにとって非活性であることが明確に伝わるよう別の視覚的手がかり（取り消し線、「無効」テキストなど）を検討してください。

##### 1.4.12 テキストの間隔（ガイドライン④レスポンシブ）

**Fluent UIの対応内容：** コンポーネントのCSS設計が、ユーザーまたはブラウザ拡張機能によるテキスト間隔（行間を1.5倍、段落間隔を2倍、文字間隔を0.12倍、単語間隔を0.16倍）の上書きに耐える設計になっています。

**設計上の注意点：** 固定の `height` や `line-height` をピクセル値でハードコードすると、テキスト間隔が変更された際にテキストがコンテナからはみ出たり重なったりする原因になります。`min-height` と `overflow: visible` を使用し、コンテンツがテキスト間隔の変更に合わせて自然に拡張できるようにしてください。

##### 1.4.13 ホバー/フォーカスで表示されるコンテンツ（ガイドライン②キーボード・支援技術）

**Fluent UIの対応内容：** Tooltip / Popover がESCキーで閉じることができ（解除可能）、ホバー中のコンテンツにポインタを移動しても消えず（ホバー可能）、フォーカスまたはホバーが外れるまで表示が持続します（持続的）。

**設計上の注意点：** Tooltip のコンテンツは補足的な情報に限定し、操作に必須な情報やインタラクティブな要素を含めないようにします。ユーザーがTooltip にポインタを移動してテキストを読む時間を考慮し、短すぎるタイムアウトは避けます。また、カスタムのホバーコンテンツを実装する場合は Fluent UI の Tooltip / Popover コンポーネントを使用して、上記3つの要件（解除可能・ホバー可能・持続的）が自動的に満たされるようにします。

```tsx
// ✅ 良い例：Tooltipで補足情報を提供
<Tooltip content="過去30日間のアクティブユーザー数" relationship="description">
  <Badge appearance="filled" color="informative">1,234</Badge>
</Tooltip>

// ❌ 悪い例：独自のCSS :hover でツールチップを実装（3要件を満たさない可能性）
<div className="custom-tooltip-trigger">
  <Badge>1,234</Badge>
  <div className="custom-tooltip">
    過去30日間のアクティブユーザー数
  </div>
</div>
```

##### 2.4.6 見出しおよびラベル（ガイドライン①構造・階層）

**Fluent UIの対応内容：** タイプランプ（Display → Title 1〜3 → Subtitle 1〜2 → Body → Caption）に基づく一貫した見出し階層を実現しています。

**設計上の注意点：** 見出しはトピックや目的を具体的に説明する内容にし、「セクション1」「項目」のような曖昧なテキストは避けます。この解説ポイントはFluent UIのコンテンツデザインガイドラインにも明記されています。Fluent UIのタイプランプのスタイルを使用しつつ、HTMLでは適切な見出しレベル（`<h1>` 〜 `<h6>`）を割り当てることで、視覚的な階層とセマンティックな階層を一致させてください。

##### 2.4.7 フォーカスの可視性（ガイドライン②キーボード・支援技術）

**Fluent UIの対応内容：** すべてのインタラクティブコンポーネントに視認性の高いフォーカスリングが標準装備されています。Fluent UIのインタラクション状態設計では、フォーカス状態のコントロールの色は変わらず、コンテナに太いストローク（黒の外枠 2px と白の内枠 1px のダブルリング）が追加されるため、マウスとキーボードの操作が明確に区別されます。

**設計上の注意点：** CSSでフォーカスリングを `outline: none` で消すことは絶対に避けてください。Fluent UIのコンポーネントはフォーカスリングをカスタムスタイルで実装しているため、`outline: none` を設定しないことでフォーカスの可視性が保たれます。カスタムコンポーネントを作成する場合は、Fluent UIと同じダブルリングパターン（`createCustomFocusIndicatorStyle` ユーティリティ）を使用してフォーカスの可視性を確保してください。

```tsx
// ✅ 良い例：Fluent UIのフォーカススタイルユーティリティを使用
import { createCustomFocusIndicatorStyle } from "@fluentui/react-components";

const useStyles = makeStyles({
  customButton: {
    ...createCustomFocusIndicatorStyle({
      outline: `${tokens.strokeWidthThick} solid ${tokens.colorStrokeFocus2}`,
      borderRadius: tokens.borderRadiusMedium,
    }),
  },
});

// ❌ 悪い例：フォーカスリングを削除
.button:focus {
  outline: none; /* キーボードユーザーにフォーカス位置がわからなくなる */
}
```

##### 3.2.3 一貫したナビゲーション（ガイドライン①構造・階層）

**Fluent UIの対応内容：** Nav / Breadcrumb / TabList 等のナビゲーションコンポーネントが一貫した構造とインタラクションパターンを提供します。

**設計上の注意点：** ナビゲーション要素はすべてのページで同じ相対的順序に配置してください。サイドナビゲーションが左に配置されているページと上部に配置されているページが混在すると、ユーザーの予測が破られます。Fluent UIの Nav コンポーネントをテンプレートレイアウトとして採用し、すべてのページで共有する構成にすることで一貫性を確保しやすくなります。

##### 3.2.4 一貫した識別（ガイドライン⑦コード標準）

**Fluent UIの対応内容：** デザイントークンとコンポーネントの標準化により、同じ機能を持つコンポーネントが一貫した外見と動作で識別されます。

**設計上の注意点：** 同じ機能には同じコンポーネントを使い、同じラベルを付けてください。あるページでは「保存」ボタン、別のページでは「Save」ボタンを使うと一貫性が損なわれます。検索機能にあるページでは `<Input>` を、別のページでは `<SearchBox>` を使うような不一致も避けてください。デザイントークンをカスタマイズする場合は `FluentProvider` のルートレベルでテーマを設定し、アプリケーション全体で一貫したスタイルを適用します。

##### 3.3.3 エラーの修正候補（ガイドライン⑥意味のあるテキスト）

**Fluent UIの対応内容：** Field コンポーネントの `validationMessage` でエラー修正候補のテキスト表示をサポートします。`validationState` が `"error"` の場合、メッセージは `role="alert"` で読み上げられます。

**設計上の注意点：** エラーメッセージには「何が間違っているか」だけでなく「どう修正すればよいか」を含めます。例えば「日付が無効です」ではなく「日付はYYYY-MM-DD形式で入力してください（例：2026-02-15）」とします。可能であれば修正候補をインラインで提示し、ユーザーがワンクリックで修正できる設計が理想的です。`validationState="warning"` も `role="alert"` が設定されるため、スクリーンリーダーへの通知が必要な場合に利用できます。

##### 4.1.3 ステータスメッセージ（ガイドライン⑦コード標準）

**Fluent UIの対応内容：** MessageBar に `role="status"`、Toast に `aria-live` 属性が組み込み済みであり、フォーカスを移動させずにスクリーンリーダーが変更を通知できます。

**設計上の注意点：** ステータスメッセージの優先度に応じて `role` を使い分けます。一般的な成功通知やプログレス表示には `role="status"`（`aria-live="polite"` 相当）を使い、スクリーンリーダーが現在の読み上げを中断しないようにします。即座にユーザーに通知が必要な重大なエラーには `role="alert"`（`aria-live="assertive"` 相当）を使います。Toast は一時的に表示されて消えるため、重要な操作結果の通知に適していますが、永続的に表示する必要がある情報には MessageBar を使用してください。

```tsx
// ✅ 良い例：重要度に応じたステータスメッセージ
// 成功通知 → polite（ユーザーの操作を中断しない）
<MessageBar intent="success">
  <MessageBarBody>ファイルが正常に保存されました</MessageBarBody>
</MessageBar>

// 重大なエラー → assertive（即座に通知）
<MessageBar intent="error">
  <MessageBarBody>ネットワーク接続が失われました。変更が保存されていない可能性があります</MessageBarBody>
</MessageBar>

// 一時的な通知 → Toast
const { dispatchToast } = useToastController();
dispatchToast(
  <Toast>
    <ToastTitle>設定を更新しました</ToastTitle>
  </Toast>,
  { intent: "success" }
);
```

### ガイドラインに沿わなかった場合に起こる問題

Fluent UIのコンポーネントを使用していても、上記のガイドラインに沿わない実装を行った場合、以下のような具体的な問題が発生しWCAG達成基準に違反します。

#### 構造・階層に関する問題

見出しレベルを飛ばして使用したり（h1の直下にh4を配置する等）、大きなタイポグラフィスタイルを装飾目的で乱用したりすると、スクリーンリーダーユーザーがページの構造を把握できなくなります。Fluent UIのタイプランプ自体は正しくレンダリングされますが、HTMLの見出し要素としてのセマンティクスが崩れることで **1.3.1（情報および関係性）**、**2.4.6（見出しおよびラベル）**、**2.4.10（セクション見出し）** に違反します。

#### フォーカス管理に関する問題

Dialogを閉じた後にフォーカスをトリガー元に戻さずページ先頭やDOM上の無関係な要素にフォーカスが移動してしまう実装、`tabIndex` に正の値を使用してDOMの自然な順序を崩す実装、あるいはカスタムコンポーネント内でフォーカストラップを作ってしまう実装を行うと、キーボードのみで操作するユーザーはアプリケーションを正しく操作できなくなります。 **2.4.3（フォーカス順序）**、**2.1.2（キーボードトラップなし）**、**2.4.7（フォーカスの可視性）** への違反となります。

#### カラーの使い方に関する問題

Fluent UIのデザイントークンを使わず独自のカラー値をハードコードした場合、コントラスト比がWCAG基準を下回るリスクがあります。また、エラー状態を赤いテキスト色だけで示してテキストメッセージやアイコンなどの追加インジケータを付与しなかった場合、色覚に制約があるユーザーはエラーの発生に気づけません。セマンティックカラー（赤・黄・緑）を装飾的に使用することも、それらの色が本来持つ「危険」「注意」「成功」の意味を希薄にしてしまいユーザーの判断を混乱させます。**1.4.1（色の使用）**、**1.4.3（コントラスト）**、**1.4.11（非テキストのコントラスト）** への違反です。

#### レスポンシブ設計に関する問題

固定幅のレイアウトや `px` 単位のフォントサイズを使用した場合、ブラウザのズーム機能やフォントサイズ変更に対応できず、400%ズーム時に水平スクロールが発生したりテキストが切り取られたりします。Fluent UIの `rem` ベースのタイポグラフィトークンやFlexbox/Gridベースのレイアウトシステムを使用せずに独自のCSSで固定レイアウトを構築すると、**1.4.4（テキストのサイズ変更）**、**1.4.10（リフロー）**、**1.4.12（テキストの間隔）** に違反します。

#### テキストとコンテンツに関する問題

リンクテキストに「こちらをクリック」のような曖昧なテキストを使用すると、スクリーンリーダーのリンク一覧機能でリンクの目的が判別できなくなります。「右のメニューから」「上の図を参照」のような方向指示語は、スクリーンリーダーユーザーには無意味であり、RTL（右から左）言語のローカライゼーションでも問題を起こします。画像に代替テキストを設定しなかった場合、スクリーンリーダーはファイル名だけを読み上げ、画像の内容が一切伝わりません。**2.4.4（リンクの目的）**、**1.1.1（非テキストコンテンツ）**、**3.3.2（ラベルまたは説明）** への違反です。

#### ARIAの誤用に関する問題

Fluent UIコンポーネントが自動設定するARIA属性を開発者が誤って上書きしたり、セマンティックに不適切なARIAロールを追加したりすると、支援技術がコンポーネントの名前・役割・値を正しく解釈できなくなります。例えば、Button に `role="link"` を追加する、インタラクティブでない要素に `tabIndex="0"` と `role="button"` を付与しながらキーボードイベントハンドラを実装しない、`aria-label` と視覚的ラベルの内容を不一致にする、といった実装は **4.1.2（名前・役割・値）**、**2.5.3（ラベルとアクセシブルネーム）** に違反します。

### Fluent UI だけではカバーしきれない領域

上記のガイドラインに正しく従ったとしても、以下の達成基準はUIフレームワークの守備範囲外であるため、開発者やコンテンツ作成者が個別に対応する必要があります。

**コンテンツに依存する達成基準**として、非テキストコンテンツへの適切な代替テキストの作成（1.1.1 — 代替テキストの有無はコンポーネントが検出可能だが、その品質はコンテンツ作成者が担保する必要がある）、時間ベースメディアへのキャプション・音声解説・手話の提供（1.2.x系すべて）、ページタイトルの設定（2.4.2）、リンク目的の明確化（2.4.4）、ページの言語設定（3.1.1）、部分的な言語の指定（3.1.2）などがあります。

**アプリケーション全体の設計に関わる達成基準**として、時間制限の調整可能性（2.2.1）・一時停止・停止・非表示（2.2.2）、複数ページにまたがるナビゲーション設計（2.4.5 複数の手段）、一貫したヘルプの配置（3.2.6）、冗長な入力の回避（3.3.7）、アクセシブルな認証の実装（3.3.8）があります。

**WCAG 2.2の新規追加基準**のうち、フォーカスの遮蔽防止（2.4.11）はページレイアウト全体のスクロール設計とスティッキー要素の配置に依存し、ドラッグ操作の代替（2.5.7）は具体的なインタラクション設計に、ターゲットサイズ（2.5.8）はカスタムコンポーネントやインラインリンクの配置設計に依存します。

### Fluent UI のカバー範囲のまとめ

| 適合レベル | 全達成基準数 | ガイドラインに沿って正しく使用した場合にカバー | 個別対応が必要 |
|-----------|------------|------------------------------------------|--------------|
| A | 30 | 約14基準 | 約16基準 |
| AA | 24 | 約14基準 | 約10基準 |
| AAA | 28 | 一部参考 | ほぼすべて |

Fluent UIをアクセシビリティ設計ガイドラインに沿って活用することで、レベルA・AAの合計54基準のうち約28基準（約52%）をコンポーネントとデザイントークンの標準機能でカバーでき、開発者の工数を大幅に削減できます。一方で、ガイドラインに沿わない使い方をした場合は、Fluent UIが自動的に提供するアクセシビリティ機能の多くが無効化され、WCAG準拠の恩恵を十分に享受できなくなります。残りの基準についてもFluent UIの設計パターンに沿って開発することで、一貫したUXが担保され、発生しうるアクセシビリティの問題を最小化できます。

## アクセシビリティテスト戦略

アクセシビリティテストは、自動テストと手動テストの組み合わせによって初めて十分な品質を確保できます。自動テストは機械的に検出可能な問題を効率的に洗い出すためのものであり、手動テストは自動テストでは検証不可能なユーザー体験に関わる問題を発見するためのものです。W3Cは、すべてのWCAG達成基準のうち自動テストで完全に検証可能なのは約30%にすぎないとしています。

### 自動テスト

自動テストは、CI/CDパイプラインに組み込んでリグレッションを防止し、開発初期段階で基本的なアクセシビリティ違反を検出するために実施します。

| テスト項目 | ツール例 | 関連する達成基準 | 目的 |
|-----------|---------|----------------|------|
| HTMLセマンティクスの検証 | axe-core, Lighthouse | 1.3.1（情報および関係性）、2.4.1（ブロックスキップ）、2.4.6（見出しおよびラベル）、4.1.2（名前・役割・値） | 不適切なHTML要素の使用、ARIA属性の誤り、ランドマークの欠如、見出し階層の不整合を検出する |
| コントラスト比の検証 | axe-core, Pa11y | 1.4.3（コントラスト最低限 AA）、1.4.6（コントラスト高度 AAA）、1.4.11（非テキストのコントラスト AA） | テキスト・非テキスト要素と背景色のコントラスト比がWCAG基準（通常テキスト4.5:1、大きなテキスト3:1、UIコンポーネント3:1）を満たしているか自動計測する |
| 代替テキストの有無 | axe-core, Lighthouse | 1.1.1（非テキストコンテンツ A） | 画像やアイコンなどの非テキストコンテンツに`alt`属性や`aria-label`が設定されているか検出する（テキストの品質は手動テストで検証） |
| フォームのラベル関連付け | axe-core, jest-axe | 1.3.1（情報および関係性 A）、3.3.2（ラベルまたは説明 A）、4.1.2（名前・役割・値 A） | 入力フィールドに対する`<label>`要素の関連付けや`aria-labelledby`の設定有無を検証する |
| リンクテキストの妥当性 | axe-core | 2.4.4（リンクの目的 文脈内 A）、2.4.9（リンクの目的 リンクのみ AAA） | 「こちら」「ここをクリック」のような曖昧なリンクテキストを検出する |
| ARIAロール・ステートの整合性 | axe-core, eslint-plugin-jsx-a11y | 4.1.2（名前・役割・値 A）、1.3.1（情報および関係性 A） | 無効なARIAロール、非推奨のARIA属性、必須プロパティの欠落を静的解析で検出する |
| 言語属性の設定 | axe-core, Lighthouse | 3.1.1（ページの言語 A）、3.1.2（部分的な言語 AA） | `<html lang="...">` の設定有無やコンテンツ内の言語切り替え箇所での `lang` 属性の有無を検出する |
| ページタイトルの検証 | axe-core, Lighthouse | 2.4.2（ページタイトル A） | 各ページに固有でわかりやすい`<title>`が設定されているか検証する |
| タブ順序の基礎的な検証 | axe-core | 2.4.3（フォーカス順序 A）、2.1.1（キーボード A） | tabindex の不適切な使用（正の値の使用、インタラクティブでない要素への設定）を検出する |
| 色だけに依存した情報伝達 | axe-core | 1.4.1（色の使用 A） | 色だけで状態を伝達している要素がないか検出する（部分的な検出能力。完全な検証は手動テストが必要） |
| コンポーネント単体テスト | jest-axe, @testing-library | 上記すべての達成基準（コンポーネントスコープ） | Fluent UIコンポーネントのレンダリング結果に対してaxe-coreルールを適用し、アクセシビリティ違反がないことを単体テストで確認する |
| E2Eテスト統合 | Playwright + axe-core | 上記すべての達成基準（ページスコープ） | 実際のブラウザ上でページ全体をレンダリングし、axe-coreによるアクセシビリティスキャンを画面遷移ごとに実行する |

### 手動テスト

手動テストは、自動テストでは評価困難な「ユーザー体験としてのアクセシビリティ」を検証するために実施します。文脈依存の判断や操作の自然さなど、人間の感覚と判断が必要な項目が中心です。

| テスト項目 | 検証方法 | 関連する達成基準 | 目的 |
|-----------|---------|----------------|------|
| キーボードナビゲーションの操作性 | Tabキー・矢印キー・Enter・Escape等のみでアプリケーション全体を操作する | 2.1.1（キーボード A）、2.1.2（キーボードトラップなし A）、2.4.3（フォーカス順序 A）、2.5.1（ポインタジェスチャ A） | フォーカス順序の論理性、フォーカストラップの有無、すべての機能がキーボードから到達・操作可能であるかを検証する |
| フォーカスインジケータの視認性 | キーボード操作時のフォーカスリングを目視で確認する | 2.4.7（フォーカスの可視性 AA）、2.4.11（フォーカスの外観 🆕 AA）、2.4.12（フォーカスの遮蔽防止 🆕 AA） | どのUIコンポーネントが現在フォーカスされているかが視覚的に明確であるか、フォーカスリングが十分な面積を持つか、フォーカスが他のコンテンツに隠されていないかを検証する |
| スクリーンリーダーでの操作体験 | NVDA（Windows）、VoiceOver（macOS/iOS）、TalkBack（Android）を使用してアプリケーション全体を操作する | 4.1.2（名前・役割・値 A）、4.1.3（ステータスメッセージ AA）、1.3.1（情報および関係性 A）、2.4.6（見出しおよびラベル AA） | コンポーネントの名前・役割・値が正しく読み上げられるか、操作手順がスクリーンリーダーユーザーにとって理解可能であるか、動的コンテンツ更新が適切に通知されるかを検証する |
| 代替テキストの品質 | スクリーンリーダーで非テキストコンテンツの代替テキストを聞き取り確認する | 1.1.1（非テキストコンテンツ A）、1.2.1（音声のみ及び映像のみ A） | altテキストが画像の目的や内容を適切に伝えているか、装飾的な画像が正しくスキップされるかを検証する（自動テストは有無のみ検出し、品質は判断できないため） |
| ズーム・リフローの検証 | ブラウザを320px幅に縮小する、テキストサイズを200%に拡大する、表示を400%にズームする | 1.4.4（テキストのサイズ変更 AA）、1.4.10（リフロー AA）、1.4.12（テキストの間隔 AA） | コンテンツが切り取られず、横スクロールが不要で、重なりやレイアウト崩れが発生しないことを検証する |
| コントラスト比の文脈的確認 | グラデーション上のテキスト、背景画像上のテキスト、状態変化時のコントラストを目視確認する | 1.4.3（コントラスト最低限 AA）、1.4.11（非テキストのコントラスト AA）、1.4.1（色の使用 A） | 自動テストでは検出困難な動的背景や状態変化時のコントラストが基準を満たしているかを検証する |
| エラーメッセージの明確性 | フォームに意図的に不正な値を入力し、エラーメッセージの内容を確認する | 3.3.1（エラーの特定 A）、3.3.3（エラーの修正候補 AA）、3.3.4（エラーの回避 法的・金融・データ AA） | エラーが何であるか特定でき、どのように修正すべきかが明示されているか、エラーの発生がスクリーンリーダーに通知されるかを検証する |
| ドラッグ操作の代替手段 | ドラッグ＆ドロップ機能をキーボードのみで操作する | 2.5.7（ドラッグ操作 🆕 AA）、2.1.1（キーボード A） | ドラッグに依存する機能がクリック操作やボタン操作で代替可能であるかを検証する |
| ターゲットサイズの確認 | インタラクティブ要素のサイズを開発者ツールで測定し、タッチデバイスで実際に操作する | 2.5.8（ターゲットサイズ 最低限 🆕 AA）、2.5.5（ターゲットサイズ 拡大 AAA） | ターゲットサイズが24×24CSSピクセル以上であるか、隣接するターゲットと十分な間隔があるかを検証する |
| 認証プロセスの検証 | パスワードマネージャーの利用、コピー＆ペーストでの入力、代替認証手段を使用してログインする | 3.3.8（アクセシブルな認証 最低限 🆕 AA）、3.3.9（アクセシブルな認証 拡張 🆕 AAA） | 認知機能テストに依存しない認証が可能であるかを検証する |
| 冗長な入力の検証 | 複数ステップのフォーム（会員登録、購入フローなど）を通しで操作する | 3.3.7（冗長な入力 🆕 A） | 以前入力した情報が再入力を求められないか、自動補完で提供されるかを検証する |
| モーション・アニメーションの検証 | `prefers-reduced-motion` をOSで有効にしてアプリケーションを操作する | 2.3.1（3回の閃光、または閾値以下 A）、2.3.3（インタラクションによるアニメーション AAA）、2.2.2（一時停止・停止・非表示 A） | 不要なアニメーションが無効化されるか、発作を誘発しうる閃光がないかを検証する |

### テスト実施のタイミングと推奨フロー

アクセシビリティテストは開発ライフサイクル全体を通じて継続的に実施することが重要です。設計段階では Figma の A11y Focus Order プラグインや Accessible Design Toolkit を使って設計仕様にアクセシビリティ要件を組み込みます。開発段階では eslint-plugin-jsx-a11y による静的解析をエディタに統合し、コーディング時にリアルタイムでフィードバックを得ることで早期に問題を修正できます。コンポーネントテストでは jest-axe を使用した単体テストで各コンポーネントのアクセシビリティをバリデーションし、E2Eテストでは Playwright と axe-core を統合してページ全体のアクセシビリティスキャンをCI/CDパイプラインで自動実行します。リリース前には手動テストとしてキーボード操作・スクリーンリーダーテスト・ズームテストを実施して自動テストでは検出できない問題を洗い出します。

## まとめ

WCAG 2.2はWebアクセシビリティの最新の国際標準であり、フォーカスの遮蔽防止、ドラッグ操作の代替、ターゲットサイズ、一貫したヘルプ、冗長な入力の回避、アクセシブルな認証といった新しい達成基準が追加されています。これらの要件をすべて手動で実装・管理するのは大きな負担ですが、Fluent UIデザインシステムを活用することで、レベルA・AAの合計54基準のうち約28基準をコンポーネントの標準機能でカバーし、開発工数を大幅に削減できます。

残りのコンテンツ依存の基準やアプリケーション固有の設計については、開発者が意識的に対応する必要がありますが、Fluent UIの一貫したデザインパターンに従うことでアクセシビリティの問題が発生するリスクを最小化できます。テストについては、自動テスト（約30%の問題を検出）と手動テスト（残り70%のユーザー体験の問題を検出）の組み合わせが不可欠であり、開発ライフサイクル全体を通じて継続的に実施する体制を整えることがアクセシビリティ品質の維持につながります。

## 参考文献

- [Web Content Accessibility Guidelines (WCAG) 2.2 - W3C Recommendation](https://www.w3.org/TR/WCAG22/)
- [Understanding WCAG 2.2](https://www.w3.org/WAI/WCAG22/Understanding/)
- [How to Meet WCAG 2.2 (Quick Reference)](https://www.w3.org/WAI/WCAG22/quickref/)
- [Techniques for WCAG 2.2](https://www.w3.org/WAI/WCAG22/Techniques/)
- [What's New in WCAG 2.2](https://www.w3.org/WAI/standards-guidelines/wcag/new-in-22/)
- [Fluent 2 Design System](https://fluent2.microsoft.design/)
- [Fluent 2 Accessibility Guidelines](https://fluent2.microsoft.design/accessibility)
- [Fluent 2 Color Guidelines](https://fluent2.microsoft.design/color)
- [Fluent 2 Typography Guidelines](https://fluent2.microsoft.design/typography)
- [Fluent 2 Content Design Guidelines](https://fluent2.microsoft.design/content-design)
- [Fluent UI React Components - Storybook](https://storybooks.fluentui.dev/react/)
- [Fluent UI React Components - GitHub](https://github.com/microsoft/fluentui)
- [Microsoft Inclusive Design](https://inclusive.microsoft.design/)
- [WAI-ARIA Authoring Practices Guide](https://www.w3.org/WAI/ARIA/apg/)
- [axe-core - Deque Systems](https://github.com/dequelabs/axe-core)
- [Playwright Accessibility Testing](https://playwright.dev/docs/accessibility-testing)
- [障害を理由とする差別の解消の推進 - 内閣府](https://www8.cao.go.jp/shougai/suishin/sabekai.html)
- [障害を理由とする差別の解消の推進に関する法律（平成25年法律第65号）本文 (PDF)](https://www8.cao.go.jp/shougai/suishin/pdf/law_h25-65.pdf)
- [障害を理由とする差別の解消の推進に関する法律の一部を改正する法律（令和3年法律第56号）本文 (PDF)](https://www8.cao.go.jp/shougai/suishin/pdf/law_r03-56.pdf)
- [ウェブアクセシビリティ導入ガイドブック - デジタル庁](https://www.digital.go.jp/resources/introduction-to-web-accessibility-guidebook)
- [Introduction to the Americans with Disabilities Act - ADA.gov](https://www.ada.gov/topics/intro-to-ada/)
- [IT Accessibility Laws and Policies - Section508.gov](https://www.section508.gov/manage/laws-and-policies/)
- [Section 508 of the Rehabilitation Act (29 U.S.C § 794d)](https://www.section508.gov/manage/laws-and-policies/section-508-law/)
- [European Accessibility Act (EAA) - Directive 2019/882](https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32019L0882)
- [European Accessibility Act - European Commission](https://commission.europa.eu/strategy-and-policy/policies/justice-and-fundamental-rights/disability/union-equality-strategy-rights-persons-disabilities-2021-2030/european-accessibility-act_en)
- [Equality Act 2010 - UK Legislation](https://www.legislation.gov.uk/ukpga/2010/15/contents)

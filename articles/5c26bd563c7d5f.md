---
title: "Azure Portal のアクセシビリティを Lighthouse で調査してみた"
emoji: "♿"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["accessibility", "azure", "lighthouse", "aria"]
published: false
---

## はじめに

Webアクセシビリティへの関心が世界的に高まる中、クラウドサービスのポータル画面もその例外ではありません。この記事はアクセシビリティ関連のブログシリーズの第1回として、Microsoft が提供する Azure Portal のホーム画面、App Service の概要画面、App Service の作成画面、さらに Azure Portal から直接リンクされている Microsoft Foundry（Azure AI ポータル）の概要画面を対象に、Google Chrome DevTools に組み込まれている Lighthouse のアクセシビリティ監査を実行し、その結果を読み解いていきます。

Lighthouse はオープンソースの自動化ツールであり、Web ページの品質改善に役立つ診断を提供してくれます。その中でもアクセシビリティ監査は、axe-core エンジンをベースとしており、WCAG（Web Content Accessibility Guidelines）に準拠した自動テスト項目を幅広くカバーしています。ただし、自動テストで検出できるのはアクセシビリティの問題の一部に過ぎないため、手動テストと併用することが推奨されている点には留意が必要です。

なお、今回の調査は Azure Portal の各画面を対象に、2026年2月時点のバージョンで実施しています。Azure Portal は頻繁にアップデートされるため、調査時点とは異なる結果となる可能性があります。

## Lighthouse と RPA・自動操作ツールの違い

Azure Portal のようなクラウドサービスのポータル画面を調査する際には、使用するツールの性質と利用規約との関係を正しく理解しておくことが重要です。

RPA（Robotic Process Automation）ツールは、ブラウザ上のボタンクリック、ページ遷移、データ入力、テキスト抽出といったユーザー操作をプログラムで自動化するものです。Power Automate Desktop、UiPath、Selenium スクリプトなどがこれに該当します。これらのツールは Azure Portal に対して自動的にリクエストを送信し、画面遷移やデータ取得を行うため、サービスへの「自動化されたアクセス」に該当する可能性があります。

Microsoft サービス規約（Microsoft Services Agreement）の行動規範（Code of Conduct）セクション 3.a.vi では、「サービスへのアクセス、使用、または可用性に対する制限を回避しないこと（例：impermissible scraping）」と定めています。また同セクション 3.a.v では、「不正な自動化された活動（automating inauthentic activity）」を禁止しています。さらに、Microsoft の Web サイト利用規約（Microsoft Terms of Use）においても、「本サービスにおいて、意図的に提供されているもの以外の手段により、マテリアルまたは情報を取得し、または取得を試みてはなりません」と明記されています。Azure サービスの利用は、Microsoft サービス規約のセクション 14.n に記載の通り、サービスの取得時に合意した契約条件に準拠します。

一方、今回使用した Lighthouse は本質的にこれらとは異なるツールです。Lighthouse は Chrome DevTools に組み込まれたブラウザ内蔵の診断機能であり、ユーザーが既にブラウザで閲覧しているページの DOM 構造を静的に解析するものです。外部からのリクエスト送信、画面遷移の自動化、データの抽出やスクレイピングは一切行いません。ユーザーが手動でページを開き、DevTools パネルから監査を実行するという操作は、ブラウザの標準的な開発者ツールの使用の範囲内であり、サービスに対する自動化されたアクセスには該当しません。

整理すると、RPA ツールはサービスに対して「外部からの自動操作」を行うのに対し、Lighthouse は「既に表示されているページの品質診断」を行うという根本的な違いがあります。Lighthouse のアクセシビリティ監査は、Web 開発者が自身の閲覧しているページの品質を確認するための標準的な手段であり、利用規約における禁止行為には該当しないと考えられます。

## 調査環境

調査は以下の環境で実施しました。

| 項目 | 内容 |
|------|------|
| ブラウザ | Google Chrome |
| 診断ツール | Lighthouse（Chrome DevTools 内蔵） |
| 対象URL | `https://portal.azure.com/#home` |
| 調査日 | 2026年2月 |

Lighthouse の実行にあたって、テスト URL である `https://portal.azure.com/#home` が `https://portal.azure.com/?bundlingKind=DefaultPartitioner&configHash=...&env=portal&l=ja.ja-jp&pageVersion=...` のような URL にリダイレクトされることが報告されました。これは Azure Portal の内部設定パラメータが自動的に付加されたものであり、テスト結果の解釈には影響がないものの、Lighthouse はリダイレクト先の URL を直接テストすることを推奨しています。

また、IndexedDB にローカルデータが保存されていることがパフォーマンス計測に影響を及ぼす可能性があるとの警告も表示されました。より正確な計測を行うには、シークレットウィンドウでの実行が望ましいとされていますが、Azure Portal はログインが必須であるため、今回は通常のウィンドウで実施しています。

## 総合スコア：93点

Lighthouse アクセシビリティ監査の結果、Azure Portal ホーム画面のスコアは **93点（100点満点）** でした。

Lighthouse のアクセシビリティスコアは、すべてのアクセシビリティ監査項目の加重平均で算出されます。重み付けは axe-core の「ユーザーへの影響度評価」に基づいており、ユーザーへの影響が大きい項目ほどスコアへの影響も大きくなる仕組みです。各監査項目は合格か不合格かの二値で評価され、部分的な合格によるポイント付与は行われません。

93点というスコアは全体として高い水準にあるものの、いくつかの改善すべき指摘事項が確認されました。検出された問題はカテゴリ別に「ARIA」「NAVIGATION」「BEST PRACTICES」の3つに分類されています。以下、それぞれの指摘事項について詳しく見ていきます。

## 指摘事項1：ARIA ロールに必要な子要素の欠落

### 検出カテゴリ

ARIA

### 問題の内容

ARIA の `role` 属性が設定された要素において、その role に必須とされる子要素が一部または全部欠落しているという指摘です。

WAI-ARIA 1.2 仕様（W3C）では、特定のロールに対して「Required Owned Elements（必須の所有要素）」が定義されています。たとえば `role="grid"` を持つ要素は `row` ロールを持つ子要素を含む必要があり、`role="list"` は `listitem` を含む必要があります。これらの親子関係が崩れると、スクリーンリーダーなどの支援技術がコンテンツの構造を正しく解釈できなくなるため、アクセシビリティ上の問題となります。

### 該当要素

Azure Portal ホーム画面のリソース一覧セクションにおいて、以下の要素が指摘の対象となりました。

```html
<div class="fxs-home-recent-grid" role="grid" aria-readonly="true"
     aria-labelledby="home-recent-title" tabindex="0"
     data-tabster="&quot;uncontrolled&quot;:true}">
```

この要素には `role="grid"` が設定されていますが、WAI-ARIA 仕様では `grid` ロールは `row` ロールを持つ子要素（直接またはrowgroup経由）を含む必要があります。Lighthouse の検査時点でこの要件が満たされていないことが検出されました。

Azure Portal のリソース一覧はリアクティブなSPA（Single Page Application）として動作しており、データの読み込みタイミングによっては DOM ツリー上に必須子要素がまだ存在しない状態で監査が実行された可能性もあります。WAI-ARIA 仕様においても、スクリプトの実行中やデータセットの読み込み中に必須の所有要素が一時的に欠落することがあり得ることが言及されており、その場合は `aria-busy="true"` を設定することが推奨されています。

### もう一つの該当要素

「すべて表示」リンクについても同カテゴリの指摘が報告されました。

```html
<a role="link" class="fxs-home-link fxs-home-see-all"
   href="#view/HubsExtension/ServiceMenuBlade/extension/Microsoft Azure Resources/m...">
```

この要素は `<a>` 要素に `role="link"` を明示的に付与しています。HTML の `<a>` 要素は暗黙的に `link` ロールを持つため、この `role` 属性の付与は冗長であるものの、構造上の問題としてLighthouseの検出対象になったものと考えられます。

## 指摘事項2：見出し要素の階層順序の不整合

### 検出カテゴリ

NAVIGATION

### 問題の内容

見出し要素（heading elements）が連続して降順の順序になっていないという指摘です。

適切な見出し構造とは、`<h1>` から始まり、`<h2>`、`<h3>`と階層レベルを飛ばすことなく順に深くなっていくことを意味します。見出しレベルの飛ばし（たとえば `<h1>` の直後に `<h3>` が来る）は、支援技術のユーザーがページの意味構造を正しくナビゲートし理解する妨げとなります。

### 該当要素

```html
<h3 id="home-feature-title" class="fxs-home-title">
```

「Azure サービス」というセクションタイトルが `<h3>` 要素として記述されていますが、その前に `<h2>` レベルの見出しが存在しない構造となっているため、見出しの階層が飛ばされていると判定されました。

この指摘は Lighthouse のスコアリングにおいて重み 3 と比較的軽微な項目に分類されていますが、スクリーンリーダーのユーザーは見出し階層を手がかりにページを概観・ナビゲートすることが多いため、適切な見出し構造の維持は重要です。

## 指摘事項3：互換性のない要素への ARIA ロールの使用

### 検出カテゴリ

BEST PRACTICES

### 問題の内容

HTML 要素に対して互換性のない ARIA ロールが割り当てられているという指摘です。

HTML の各要素にはそれぞれ許可される ARIA ロールが規定されており、仕様で許可されていないロールを要素に割り当てると、支援技術がその要素を正しく解釈できなくなる可能性があります。この項目は「Unscored（スコア非対象）」として分類されており、アクセシビリティスコアには直接影響しませんが、ベストプラクティスとして改善が推奨されています。

### 該当要素

```html
<li class="fxs-toast-item fxs-popup fxs-portal-bg-txt-br msportalfx-shadow-level4"
    role="alert" aria-live="polite" aria-atomic="true"
    aria-label="クレジットの残りは ¥XX,XXX というタイトルの新しい通知。通知ウィンドウを開くと、詳細が表示されます。"
    id="weave_e_52">
```

この要素は `<li>` 要素に `role="alert"` を割り当てています。`alert` ロール自体は `<li>` 要素に設定することが仕様上不可能というわけではありませんが、Lighthouse がこの要素を検出したのは、リスト内の通知トーストとしての `<li>` 要素に `alert` ロールを適用する組み合わせが、ARIA の意図する使用パターンとは異なるためと考えられます。通知やアラート情報を表示する場合は、`<div>` などの汎用コンテナ要素に `role="alert"` を設定するか、意味的に適切な要素を選択することがベストプラクティスとして推奨されます。

## App Service 概要画面の調査

### 対象画面

続いて、Azure Portal 内の個別リソース画面として App Service の概要画面を調査しました。App Service の概要画面はホーム画面とは異なり、特定のリソースに関する詳細情報が集約された画面です。左側のナビゲーションメニューには「概要」「アクティビティ ログ」「アクセス制御（IAM）」「タグ」「問題の診断と解決」などの項目が並び、メインコンテンツ領域にはリソースグループ、状態、場所、サブスクリプション情報などの要点と、「プロパティ」「監視中」「ログ」「機能」「通知」「レコメンデーション」のタブが配置されています。

### 総合スコア：100点

App Service 概要画面の Lighthouse アクセシビリティスコアは **100点（100点満点）** でした。

これはスコアに影響するすべての自動テスト項目に合格したことを意味しています。ホーム画面で指摘された `role="grid"` における必須子要素の欠落や、見出し要素の階層順序の不整合といった問題は、この画面では検出されませんでした。App Service の概要画面はホーム画面と比較してDOM構造が比較的シンプルであり、グリッドコンポーネントの使用も限定的であるため、ARIAロールの親子関係に起因する問題が発生しにくかったものと考えられます。

ただし、スコア非対象（Unscored）のベストプラクティス項目において1件の指摘が確認されています。

### ベストプラクティス指摘：互換性のない要素への ARIA ロールの使用

ホーム画面と同様に、「Uses ARIA roles only on compatible elements（互換性のある要素にのみ ARIA ロールを使用する）」という項目が指摘されました。この項目はスコア非対象ですが、ベストプラクティスの観点から改善が推奨されています。

#### 該当要素（1）：クレジット通知トースト

```html
<li class="fxs-toast-item fxs-popup fxs-portal-bg-txt-br msportalfx-shadow-level4"
    role="alert" aria-live="polite" aria-atomic="true"
    aria-label="クレジットの残りは ¥XX,XXX というタイトルの新しい通知。通知ウィンドウを開くと、詳細が表示されます。"
    id="weave_e_93">
```

この要素はホーム画面で検出されたものと同一のパターンです。サブスクリプションのクレジット残高を通知するトースト表示であり、`<li>` 要素に `role="alert"` が割り当てられています。

#### 該当要素（2）：フィードバックアンケートのポップアップ

```html
<li class="fxs-toast-item fxs-popup fxs-portal-bg-txt-br msportalfx-shadow-level4"
    role="alert" aria-live="polite" aria-atomic="true"
    aria-label="ポップアップ通知アンケート。Microsoft にフィードバックをお送りください。ページの上部から、
    portal.azure.com をどの程度、友人や同僚に勧めたいと思いますか？"
    id="weave_e_90">
```

もう一つの該当要素は、ユーザーフィードバックを求めるNPS（Net Promoter Score）形式のアンケート通知です。「portal.azure.com をどの程度、友人や同僚に勧めたいと思いますか？」という質問が0〜10のスケールで表示されるポップアップであり、こちらも `<li>` 要素に `role="alert"` が設定されています。

これらの2つの要素はいずれも Azure Portal 全体で共通して使用されるトースト通知コンポーネント（`fxs-toast-item` クラス）の一部です。ホーム画面でも同じコンポーネントが指摘されていたことから、この問題は特定の画面固有のものではなく、Azure Portal のトースト通知の実装全体に共通する構造的な課題であることがわかります。

## App Service 作成画面の調査

### 対象画面

3つ目の調査対象として、App Service の作成画面（「Web アプリの作成」）を選定しました。新しい Web アプリリソースを作成するためのウィザード形式のフォーム画面です。

作成画面は「基本」「データベース」「デプロイ」「ネットワーク」「監視とセキュリティ保護」「タグ」「確認および作成」の7つのタブで構成されています。「基本」タブにはサブスクリプションやリソースグループの選択フィールド、名前、公開方式、ランタイムスタック、オペレーティングシステム、リージョンといった各入力フィールドが配置されています。

ホーム画面や概要画面が主に情報の「表示」を担う画面であるのに対し、作成画面はユーザーによる「入力」が主たる操作となるフォーム画面です。フォーム画面ではラベルとフィールドの関連付け、必須項目の明示、エラーメッセージの適切な伝達など、表示画面とは異なるアクセシビリティ要件が求められるため、別の観点から結果を確認する意義があります。

### 総合スコア：100点

App Service 作成画面の Lighthouse アクセシビリティスコアは **100点（100点満点）** でした。

App Service 概要画面に続き、2画面連続での満点です。作成画面はフォーム要素を多数含む画面ですが、Lighthouse の自動テストの範囲においては、フォームラベルの関連付け、必須フィールドの ARIA 属性による明示、ラジオボタンやドロップダウンのアクセシブルな名前の設定など、すべてのスコア対象項目をクリアしています。

Azure Portal の作成画面はリソースの種類に依らず共通のフレームワーク（ブレードシステム）で構築されており、フォームコントロールのアクセシビリティ対応がフレームワークレベルで統一的に実装されていることが、この結果に寄与していると推測されます。

ただし、概要画面と同様にスコア非対象のベストプラクティス項目で1件の指摘が確認されました。

### ベストプラクティス指摘：互換性のない要素への ARIA ロールの使用

他の画面と同様に、「Uses ARIA roles only on compatible elements」の指摘が報告されています。

#### 該当要素：クレジット通知トースト

```html
<li class="fxs-toast-item fxs-popup fxs-portal-bg-txt-br msportalfx-shadow-level4"
    role="alert" aria-live="polite" aria-atomic="true"
    aria-label="クレジットの残りは ¥XX,XXX というタイトルの新しい通知。通知ウィンドウを開くと、詳細が表示されます。"
    id="weave_e_179">
```

この要素はホーム画面および概要画面で検出されたものとまったく同一のトースト通知コンポーネントです。`id` 属性の値（`weave_e_179`）のみが異なりますが、コンポーネントの構造、クラス名、ARIA 属性の設定パターンは完全に一致しています。

ここまで3つの画面を調査した結果、この `fxs-toast-item` コンポーネントが Azure Portal のすべての画面で一貫して同じ指摘を受けることが確認されました。このことは、この問題の修正がトースト通知コンポーネント単体の修正で Azure Portal 全体のベストプラクティス準拠を改善できることを示しており、費用対効果の高い改善ポイントであると言えます。

## Microsoft Foundry 概要画面の調査

### 対象画面

ここまでの3画面はいずれも Azure Portal（`portal.azure.com`）内の画面でしたが、視点を広げて Azure Portal から直接リンクされている関連ポータルのアクセシビリティも調査してみました。対象としたのは Microsoft Foundry（旧 Azure AI Studio、`ai.azure.com`）の概要画面です。

Microsoft Foundry は Azure OpenAI をはじめとする AI サービスのモデル管理、デプロイ、評価、プレイグラウンドなどの機能を統合的に提供するポータルです。Azure Portal の Azure OpenAI リソース画面から直接遷移できるため、Azure エコシステムの一部として日常的に利用される画面です。Azure Portal 自体とは異なるフレームワークで構築されているため、Azure Portal で共通して見られたトースト通知コンポーネントの問題とは異なる傾向の指摘が見られるかどうかが注目点となります。

調査した概要画面には、エンドポイントと API キーの表示フィールド、プロジェクトの詳細情報などが表示されています。左側のナビゲーションメニューには「プレイグラウンド」セクション（チャット、アシスタント、ビデオ、オーディオ、イメージ）、「ツール」セクション（微調整、評価、バッチジョブ、監視など）、「共有リソース」セクション（デプロイ、クォータ、ガードレールとコントロール）などが配置されています。

### 総合スコア：97点

Microsoft Foundry 概要画面の Lighthouse アクセシビリティスコアは **97点（100点満点）** でした。

Azure Portal のホーム画面（93点）よりは高いものの満点ではなく、スコアに影響する指摘が1件検出されました。加えて、スコア非対象のベストプラクティス項目でも3件の指摘が確認されています。指摘の内容は Azure Portal の画面群とはまったく異なる傾向を示しており、Microsoft Foundry 固有のフレームワークに起因する問題であることが読み取れます。

### 指摘事項1：`aria-hidden="true"` 要素にフォーカス可能な子孫が含まれている

#### 検出カテゴリ

ARIA

#### 問題の内容

`aria-hidden="true"` が設定された要素の内部に、フォーカス可能な子孫要素が存在するという指摘です。この項目はスコアに影響する項目であり、Lighthouse のスコアリングにおいて重み 7 と評価されています。

`aria-hidden="true"` は、要素をアクセシビリティツリーから除外し、スクリーンリーダーなどの支援技術に対して非表示にするための属性です。しかし、その内部にフォーカス可能な要素（`tabindex="0"` が設定された要素など）が存在すると、支援技術のユーザーはキーボード操作でその要素にフォーカスできるにもかかわらず、支援技術からはその要素の存在が認識されないという矛盾が生じます。これはユーザーを混乱させる深刻なアクセシビリティ上の問題です。

#### 該当要素

複数の `<i>` 要素が指摘の対象となりました。これらはすべて同一のパターンを持っています。

```html
<i tabindex="0" role="none" data-tabster-dummy=""
   aria-hidden="true" style="position: fixed; height: 1px; width: 1px;
   opacity: 0.001; z-index: -1;">
```

この要素は Tabster ライブラリ（Microsoft が開発したフォーカス管理ライブラリ）が自動生成するダミー要素です。`data-tabster-dummy` 属性が付与されていることから、フォーカストラップやフォーカス管理のための補助要素として配置されているものと推測されます。視覚的には `height: 1px; width: 1px; opacity: 0.001` のスタイルで実質的に不可視化されていますが、`tabindex="0"` によりキーボードフォーカスを受け取ることが可能な状態です。

この要素が検出された箇所は `body#mlworkspace` 直下、`div.fui-Toolbar` 内（2箇所）、`nav#nav-bar` 内（2箇所）の合計5箇所以上に及びます。いずれもページのルート付近やナビゲーション、ツールバーといったフォーカス管理が重要な領域に配置されており、Tabster のフォーカス管理機構がこれらの境界にダミー要素を挿入していることがわかります。

`aria-hidden="true"` と `tabindex="0"` の組み合わせは WCAG の観点からは明確なアンチパターンです。この問題を解消するには、ダミー要素に `tabindex="-1"` を設定するか、あるいは別のフォーカス管理手法を採用する必要があります。

### ベストプラクティス指摘1：ARIA ID の重複

#### 検出カテゴリ

ARIA（Unscored）

#### 問題の内容

ARIA で参照される ID 値が一意でないという指摘です。ARIA の `id` 属性は、`aria-labelledby` や `aria-describedby` などで要素を参照する際に使用されるため、ドキュメント内で一意である必要があります。ID が重複すると、支援技術が正しい要素を参照できなくなる恐れがあります。

#### 該当要素

```html
<input type="text" aria-labelledby="API キー" id="keyField" readonly=""
       class="fui-Input__input" value="••••••••••••••••••••••••••••••••">
```

```html
<input type="text" aria-labelledby="Azure OpenAI エンドポイント" id="keyField" readonly=""
       class="fui-Input__input" value="https://xxxxxxxx.openai.azure.com/">
```

API キーの入力フィールドと Azure OpenAI エンドポイントの入力フィールドが、どちらも `id="keyField"` という同一の ID を持っています。HTML の仕様上、`id` 属性はドキュメント内で一意でなければならないため、これは明確な実装上の問題です。おそらく同一のコンポーネントテンプレートが再利用された際に、ID のユニーク化が行われなかったものと推測されます。

### ベストプラクティス指摘2：フォームフィールドへの複数ラベル

#### 検出カテゴリ

NAMES AND LABELS（Unscored）

#### 問題の内容

1つのフォームフィールドに複数のラベルが関連付けられているという指摘です。フォームフィールドに複数のラベルが設定されていると、スクリーンリーダーは最初のラベル、最後のラベル、またはすべてのラベルのいずれかを読み上げる可能性があり、ユーザーに混乱を与えます。

#### 該当要素

```html
<input type="text" aria-labelledby="API キー" id="keyField" readonly=""
       class="fui-Input__input" value="••••••••••••••••••••••••••••••••">
```

この入力フィールドには、以下の2つの `<label>` 要素が `for="keyField"` で関連付けられています。

```html
<label class="ms-Label root-236" for="keyField" id="API キー">
```

```html
<label class="ms-Label root-236" for="keyField" id="Azure OpenAI エンドポイント">
```

これは前述の ARIA ID 重複問題と根本的に同じ原因に起因しています。API キーのフィールドとエンドポイントのフィールドが同一の `id="keyField"` を共有しているため、両方の `<label>` 要素の `for` 属性が同じ要素を指すことになり、結果として1つのフィールドに2つのラベルが関連付けられた状態になっています。ID の重複を解消すれば、この複数ラベルの問題も同時に解決されます。

### ベストプラクティス指摘3：冗長な alt テキスト

#### 検出カテゴリ

NAMES AND LABELS（Unscored）

#### 問題の内容

画像要素の `alt` 属性のテキストが隣接するテキストと同一であり、冗長になっているという指摘です。`alt` テキストがリンクや画像に隣接するテキストと完全に一致している場合、スクリーンリーダーのユーザーには同じテキストが2回読み上げられることになり、冗長な体験となります。

#### 該当要素

```html
<img alt="Microsoft Foundry" src="/assets/aistudio-af17733a.svg"
     width="18" height="18" class="fui-Image ...">
```

ページヘッダー部分に配置された Microsoft Foundry のロゴ画像に `alt="Microsoft Foundry"` が設定されていますが、この画像の直後に「Microsoft Foundry」というテキストが表示されています。この結果、スクリーンリーダーでは「Microsoft Foundry Microsoft Foundry」のように同じテキストが2回読み上げられることになります。この場合、ロゴ画像は装飾的な役割を果たしているため、`alt=""` を設定して支援技術から非表示にするか、`aria-hidden="true"` を付与することが適切です。

## まとめ

今回は Azure Portal のホーム画面、App Service 概要画面、App Service 作成画面の3つに加え、Azure Portal から直接リンクされている Microsoft Foundry の概要画面を Lighthouse のアクセシビリティ監査で調査しました。結果を一覧にまとめると以下の通りです。

| 画面 | スコア | スコア対象の指摘 | ベストプラクティス指摘 |
|------|--------|------------------|------------------------|
| Azure Portal ホーム | 93点 | ARIA必須子要素欠落、見出し階層不整合 | `<li>` への `role="alert"`（1件） |
| App Service 概要 | 100点 | なし | `<li>` への `role="alert"`（2件） |
| App Service 作成 | 100点 | なし | `<li>` への `role="alert"`（1件） |
| Microsoft Foundry 概要 | 97点 | `aria-hidden` 内のフォーカス可能要素 | ARIA ID重複、複数ラベル、冗長alt（3件） |

Azure Portal の3画面については、ホーム画面が93点、概要画面と作成画面が100点満点という結果でした。ホーム画面ではリソース一覧の `role="grid"` における必須子要素の欠落と見出し階層の不整合がスコアに影響しています。概要画面と作成画面はいずれもブレードフレームワークによる統一的なアクセシビリティ実装の恩恵を受け、スコア対象の問題は検出されませんでした。3画面に共通する課題として、`fxs-toast-item` トースト通知コンポーネントにおける `<li>` 要素への `role="alert"` の割り当てがベストプラクティスとして指摘されています。

一方、Microsoft Foundry は97点で、Azure Portal とは異なる傾向の問題が検出されました。スコアに影響した項目は、Tabster ライブラリが生成するダミー要素における `aria-hidden="true"` と `tabindex="0"` の競合です。これは `aria-hidden` で支援技術から隠した要素に対してキーボードフォーカスが到達できてしまう問題であり、WCAG の観点から明確なアンチパターンに該当します。さらに、API キーとエンドポイントの入力フィールドが同一の `id="keyField"` を共有していることに起因し、ARIA ID の重複と複数ラベルの問題が連鎖的に発生していました。ロゴ画像の冗長な alt テキストも含め、ベストプラクティス指摘が3件と、Azure Portal の画面と比較して多くの指摘が見られました。

この差異は、Azure Portal と Microsoft Foundry が異なるフレームワークで構築されていることに起因すると考えられます。Azure Portal は長年にわたりアクセシビリティ対応が蓄積されたブレードフレームワークを基盤としており、トースト通知以外の基本的なコンポーネントについては高い品質が維持されています。対して Microsoft Foundry は比較的新しいポータルであり、Fluent UI と Tabster による近代的なフロントエンド構成を採用していますが、フォーカス管理のダミー要素や ID 管理といった基盤部分にアクセシビリティの課題が残存しています。

重要なのは、Lighthouse の自動テストでカバーされるのはアクセシビリティの一側面に過ぎないという点です。キーボードナビゲーション、スクリーンリーダーの実際の読み上げ体験、フォーカス管理、色覚特性への配慮など、手動テストでしか検出できない問題は数多く存在します。自動テストで93点〜100点という結果は出発点として良好ですが、実際のユーザー体験としてのアクセシビリティを評価するには、より包括的なテストが必要です。

## 参考文献

- [WAI-ARIA 1.2 仕様 - W3C](https://www.w3.org/TR/wai-aria-1.2/)
- [WAI-ARIA 1.2 - 5.2.6 Required Owned Elements](https://www.w3.org/TR/wai-aria-1.2/#mustContain)
- [Lighthouse のアクセシビリティスコア - Chrome for Developers](https://developer.chrome.com/docs/lighthouse/accessibility/scoring)
- [axe-core ルール定義 - Deque Systems](https://github.com/dequelabs/axe-core/blob/develop/doc/rule-descriptions.md)
- [Learn Accessibility - web.dev](https://web.dev/learn/accessibility)
- [Microsoft Accessibility](https://www.microsoft.com/en-us/accessibility)
- [Microsoft Services Agreement](https://www.microsoft.com/en-us/servicesagreement)
- [Microsoft Azure Legal Information](https://azure.microsoft.com/en-us/support/legal/)
- [Microsoft 使用条件](https://www.microsoft.com/ja-jp/legal/terms-of-use)
- [Tabster - Microsoft GitHub](https://github.com/microsoft/tabster)
- [Fluent UI React - Microsoft GitHub](https://github.com/microsoft/fluentui)
- [Microsoft Foundry](https://ai.azure.com/)

---
title: "【2024年4月義務化】Fluent UI Blazorで実現するWebアクセシビリティ対応"
emoji: "♿"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Blazor", "FluentUI", "アクセシビリティ", "WCAG", "csharp"]
published: false
---

## はじめに

あらゆるWebサイトやアプリケーションは、情報を届けることを目的としています。インタラクティブな対話を通して、何らかのコミュニケーションを達成することがその本質です。

しかし、ここで一度立ち止まって考えてみてください。

:::message
**あなたのサービスは、ある日あなたが色を識別できなくなったとしても不自由なく使えますか？**
:::

:::message alert
**あなたのサービスは、ある日あなたが目が見えなくなったとしても不自由なく使えますか？**
:::

私たちがWebサービスを享受できているのは、正常な視覚があり、正常な聴覚があり、五体満足であり健康だからこそかもしれません。しかし、それは決して当たり前のことではありません。

### 当たり前に享受しているWebサービス

私たちの生活は、すでにWebサービスなしでは成り立たなくなっています。

- 🏦 **インターネットバンキング** - 残高確認、振込、各種手続きをオンラインで完結
- 🛒 **ネットショッピング** - 食品から日用品まで、自宅にいながら購入可能
- 🏥 **オンライン診療・予約** - 医療機関の予約や遠隔診療
- 🎫 **チケット予約** - コンサート、映画、交通機関のチケット購入
- 📝 **行政手続き** - マイナポータルを通じた各種申請・届出
- 📚 **オンライン学習** - 学校教育からスキルアップまで

これらのサービスは、私たちにとって「あって当然」の便利なものです。

しかし、**アクセシビリティ対応がされていなければ、これらすべてのサービスを利用できない人々がいます。**

銀行に行くことが困難な方が、インターネットバンキングを使えなかったら？外出が難しい方が、ネットショッピングを利用できなかったら？その不便さは、私たちの想像をはるかに超えるものでしょう。

Webアクセシビリティは、単なる「配慮」ではなく、**すべての人がデジタル社会に参加するための必須条件**なのです。

## Microsoftのミッション

Microsoftは次のようなミッションを掲げています。

> **「地球上のすべての個人とすべての組織が、より多くのことを達成できるようにする。」**

このミッション達成のためにも、障がいの有無にかかわらずすべての人がテクノロジーの恩恵を受けられるべきという考えがあるのではないでしょうか。

そのような考えを持つMicrosoftが推進する**Fluent UI**は、アクセシビリティをどのように実現しているのか。本記事ではその点について学んでいきたいと思います。

## アクセシビリティとは？

アクセシビリティとは、**誰もが自由に何かの目的を達成できるような状態**のことを指します。

特に情報システムにおいては、何らかのハンディキャップを持った方でも不自由なく情報にアクセスできるような状態を意味します。

### カーブカット効果 🛞

街中で見かける歩道の段差を緩やかにした「カーブカット」。これは車椅子利用者のために設計されましたが、実際にはベビーカーを押す親、スーツケースを引く旅行者、自転車に乗る人など、**すべての人に恩恵をもたらしています。**

Webアクセシビリティも同じです。障がいを持つ方のための配慮が、実は**すべてのユーザーの体験を向上させる**のです。

## 情報システムにおけるハンディキャップ

情報システムを利用する上で影響を受ける可能性があるハンディキャップには、以下のようなものがあります。

- 🎨 **色覚異常**
- 👁️ **視覚障害**
- 👂 聴覚障害
- 🦾 四肢障害
- ...などなど

本記事では、特に**色覚異常**と**視覚障害**を主なターゲットとして、Fluent UI Blazorがどのように対応しているかを見ていきます。

## Webシステムにおけるアクセシビリティの必要性

### 法改正による合理的配慮の義務化

2021年5月に「障害を理由とする差別の解消の推進に関する法律」（障害者差別解消法）が改正されました（令和3年法律第56号）。

:::message alert
**2024年4月1日より、民間事業者においても「合理的配慮の提供」が義務化されました。**
:::

これまで民間事業者における合理的配慮は「努力義務」でしたが、法改正により**法的義務**となりました。Webサービスにおいても、障害のある方が利用しやすい環境を整備することが求められています。

| 区分 | 改正前 | 改正後（2024年4月1日〜） |
|------|--------|------------------------|
| 🏛️ 行政機関等 | 義務 | 義務 |
| 🏢 民間事業者 | 努力義務 | **義務** |

つまり、Webアクセシビリティへの対応は「やった方がいい」から **「やらなければならない」** に変わったのです。

### Webシステムにおけるアクセシビリティの課題

Webシステムでアクセシビリティを実現しようとすると、考慮すべき点がたくさんあります。

| 課題 | 具体的な内容 |
|------|-------------|
| 🎨 色覚への配慮 | 色覚異常に配慮した色の組み合わせが必要。色彩に関する学習が必要？ |
| 📏 コントラスト比 | WCAG規格に則り4.5:1以上の文字コントラストが必要。テスト方法は？ |
| 🖼️ 代替テキスト | 画像・動画には代替テキストが必要 |
| 🔤 フォント | 読みやすいフォントとは何か？ |
| 🌙 ダークモード | ダークモード実装したいんだけども... |
| 📱 レスポンシブ | レスポンシブデザインにも対応しないと... |
| ...etc | まだまだ考慮点は山ほど！ |

正直、これらすべてを自力で実装するのは大変ですよね...😅

## でも、アクセシビリティの実装ってよくわからない！

多くの開発者が抱える悩みがあります。

- 🤔 よくわからないので、**フレームワークの出番**
- 🎨 色彩とか色調とか難しくてよくわからない
  - → **フレームワークに任せればよい**
- 👨‍💻 デザイナーがいないのでWebUIもエンジニアがやってるんですけども
  - → **だからこそフレームワークと規約に縛られてみる**

そう、アクセシビリティに強いUIフレームワークを使えば、専門知識がなくても適切なアクセシビリティを実現できるのです！

## Fluent UI Blazorとは？

**Fluent UI Blazor** は、Microsoftが推進しているデザインシステム「Fluent UI」のBlazorラッパーライブラリです。

### 特徴

- 🏢 **Microsoft公式** - Microsoftが推進しているデザインシステム「Fluent Design System」のBlazorラッパー
- 🌐 **Web標準ベース** - 多くは、Fluent UI Webコンポーネントのラッパーとして実装
- 🎨 **Fluent Design System** - [Fluent 2 Design System](https://fluent2.microsoft.design/)を活用したコンポーネント
- ♿ **アクセシビリティ重視** - WCAG 2.1 AA基準を満たすか上回るコンポーネント

Fluent UI Blazorを使うことで、アクセシビリティが考慮されたコンポーネントを簡単に利用でき、デザイナーがいなくても統一感のある美しいUIを構築できます。

それでは、Fluent UI Blazorが色覚異常と視覚障害にどのように対応しているか見ていきましょう。

## 色覚異常について

### 色覚異常ってどれくらいいるの？

色覚異常は決して珍しいものではありません。

| 対象 | 割合 |
|------|------|
| 👨 日本人男性 | **20人に1人**（5%） |
| 👩 日本人女性 | **500人に1人**（0.2%） |

:::message alert
**とても無視できる割合ではありません！**
:::

クラスに1人はいる計算になりますし、大規模なWebサービスであれば数万〜数十万人のユーザーが色覚異常を持っている可能性があります。

### 色覚異常へのWebデザインでの対処

色覚異常のユーザーに配慮するためのデザイン原則があります。

| 対処法 | 説明 |
|--------|------|
| 🚫 色に頼らない | 色に頼った情報発信のしかたをしない |
| 🔄 色調だけに頼らない | 色調の違いのみの違いに頼らない（形やテキストも併用） |
| 📊 色数を減らす | 色数を増やさない（シンプルに保つ） |
| ⬛ コントラストを高く | コントラストを高くする |

### Fluent UI Blazorでの実装及び規約

Fluent UI Blazorでは、色覚異常に配慮した設計が規約として組み込まれています。

#### AccentColorの制限

```
基本的に製品を表すAccentColorを1色のみ指定できる。
```

これにより、色数が自然と制限され、シンプルなカラーパレットが維持されます。

#### デザイントークンによるコントラスト確保

Fluent UI Blazorは「Adaptive Color System（適応型カラーシステム）」を採用しています。

> The design tokens are built around an adaptive color system that provides some unique advantages:
> - Ensure text meets WCAG contrast requirements.
> - Easily swap from light mode to dark, or anywhere in-between.

開発者が手動でコントラスト比を計算する必要がなく、フレームワークが自動で適切なコントラストを保証してくれます。

#### グレースケール基調のUI

```
規約上、AccentColor以外はUIの階層構造を表すグレースケールのみの色。
```

色に頼らず、明度（グレースケール）でUIの階層を表現することで、色覚異常のユーザーにも理解しやすいデザインになっています。

#### セマンティックカラーの配慮

```
例外的にシステムから、警告、エラーなどを表すセマンティックカラーを
つけることができるとされているが説明文の添付の配慮が求められている。
```

エラーや警告を赤や黄色で表示する場合でも、**必ず説明文を添付する**という規約があり、色だけに頼らない情報伝達が求められています。

## ライトモード・ダークモードにおけるデザイントークンの効果

Fluent UI Blazorの優れた機能の一つが、**デザイントークン**によるテーマ対応です。

### アクセントカラーが自動で変化する！

ライトモードとダークモードを切り替えると、ヘッダーなどのアクセントカラーが微妙に変化することに気づくでしょう。

| モード | 特徴 |
|--------|------|
| ☀️ ライトモード | 明るい背景に対して適切なコントラストのアクセントカラー |
| 🌙 ダークモード | 暗い背景に対して適切なコントラストのアクセントカラー |

これは単なる見た目の調整ではなく、**アクセシビリティを確保するための重要な仕組み**です。

### アクセントカラーが変化する理由

なぜアクセントカラーが自動的に変化するのでしょうか？

:::message
**WCAG AAの規定するコントラスト比4.5:1のテキストと背景のコントラストを確保するため！**
:::

#### WCAGとは？

**WCAG（Web Content Accessibility Guidelines）** とは、W3Cが策定したWebアクセシビリティに関する国際的な仕様です。

- 📏 テキストと背景のコントラスト比は**4.5:1以上**が必要（WCAG AA基準）
- 📐 大きなテキスト（18.5px以上の太字、または24px以上の通常）は**3:1以上**でOK
- 🎯 インタラクティブコンポーネントや非テキスト要素（アイコンなど）は**3:1以上**が必要

### コントラストの重要性

たとえば、薄い文字は読みにくいですよね！！

そして、**コントラストがつかない色の変化に頼った文字も読みにくい人がいるかもしれません。**

:::message
💡 **あなたも経験したことがあるはず：**
- ☀️ 日光の下でスマートフォンの画面が見づらい
- 😴 夜遅くに目が疲れて文字が読みにくい
- 🚃 電車の揺れる中で細かい文字が追えない

これらはすべて「一時的な障害」です。高コントラストなデザインは、**障がいの有無に関係なく、あらゆる状況のすべてのユーザーを助けます。**
:::

Fluent UI Blazorのデザイントークンは、ライトモード・ダークモードそれぞれで適切なコントラスト比を自動的に計算し、アクセントカラーを調整してくれます。開発者が手動でコントラスト比を計算する必要はありません。

```razor
@* Fluent UI Blazorでは、テーマ切り替えが簡単 *@
<FluentDesignTheme @bind-Mode="@Mode" StorageName="theme" />

@code {
    private DesignThemeModes Mode { get; set; } = DesignThemeModes.System;
}
```

`StorageName`を指定することで、ユーザーが選択したテーマをブラウザのローカルストレージに保存し、次回訪問時に復元できます。これだけで、アクセシビリティに配慮したテーマ切り替えが実現できます！🎉

## 視覚障害について

### 視覚障害者ってどれくらいいるの？

日本には**約30万人**の視覚障害者がいると言われています。

これは決して少ない数ではありません。Webサービスを提供する上で、視覚障害を持つユーザーへの配慮は欠かせません。

### 視覚障害者へのWebデザインでの対処

視覚障害を持つユーザーの多くは、**スクリーンリーダー**（画面読み上げソフト）を使用してWebサイトを利用します。

| 対処法 | 説明 |
|--------|------|
| 📖 自然な順番 | UIの自然な順番でスクリーンリーダーが読めるようにする |
| 🏷️ aria-label | aria-labelに説明的な文章を書き、スクリーンリーダーに読ませる |

### Fluent UI Blazorでの実装及び規約

Fluent UI Blazorでは、視覚障害者への配慮が規約として組み込まれています。

#### AriaLabelプロパティ

```razor
@* HTML上のaria-labelはすべての入力コンポーネントに
   AriaLabelプロパティとして実装されている *@
<FluentTextField AriaLabel="ユーザー名を入力してください" />
```

すべての入力コンポーネントに`AriaLabel`プロパティが用意されており、スクリーンリーダーが適切に読み上げられるようになっています。

#### レイアウトの原則

```
レイアウトは左から右に、上から下にが原則
```

スクリーンリーダーは通常、左から右、上から下の順番でコンテンツを読み上げます。Fluent UI Blazorのレイアウトコンポーネントはこの原則に従って設計されています。

:::message
**考えてみてください。** スクリーンリーダーを使わない私たちでも、この原則から外れたレイアウト——たとえば右から左に読まなければならないUI、下から上にスクロールしないと情報が得られないページ——は非常に操作しにくいと感じるはずです。

**アクセシビリティは「特別な配慮」ではなく、すべての人にとって使いやすいデザインの基本原則なのです。**
:::

#### Labelの必須化

```razor
@* すべての入力コンポーネントにはLabelをつける規約 *@
<FluentTextField Label="ユーザー名" />
<FluentNumberField Label="年齢" />
```

入力コンポーネントには必ず`Label`をつけることが規約となっており、スクリーンリーダーが「何の入力欄か」を正しく伝えられます。

#### IconにはTitleを付与

```razor
@* IconにはTitleをつける規約 *@
<FluentIcon Value="@(new Icons.Regular.Size20.Settings)" Title="設定" />
```

アイコンだけでは視覚障害者には意味が伝わりません。`Title`プロパティで説明を付与することが規約となっています。

## その他、アクセシビリティへの配慮

Fluent UI Blazorには、その他にも多くのアクセシビリティ配慮が組み込まれています。

### WCAG 2.1 AA準拠

:::message
**Fluent's components meet or surpass WCAG 2.1 AA standards to ensure an accessible foundation.**
（Fluentのコンポーネントは、アクセシブルな基盤を確保するためにWCAG 2.1 AA基準を満たすか上回っています）
:::

— [Fluent 2 Accessibility](https://fluent2.microsoft.design/accessibility) より

これにより、開発者は安心してコンポーネントを使用できます。

### キーボードナビゲーション

- ⌨️ **キーボードナビゲーション技術を積極的に導入**
  - 🖱️ マウスはハンディキャップを持った方には難しい入力デバイスです
  - ⌨️ キーボードによっての入力も可能なように配慮されています

Tabキーでのフォーカス移動、Enterキーでの実行など、すべての操作がキーボードで完結できます。

:::message
👨‍💻 **エンジニアやパワーユーザーにとっても嬉しい！**

実は、多くの開発者やパワーユーザーはマウスよりキーボード操作を好みます。フォームの入力、画面の移動、コマンドの実行——すべてをキーボードで完結できるUIは、**生産性を大きく向上させます。**

アクセシビリティのためのキーボードナビゲーションは、すべてのユーザーの効率を高めるのです。
:::

### レスポンシブレイアウト

- 📱 様々な画面サイズに対応
- 🔍 拡大表示しても崩れないレイアウト

視覚障害を持つユーザーの中には、画面を拡大して使用する方も多いため、レスポンシブ対応は重要です。

### リッチメディアと代替メディア

| メディア | 配慮 |
|----------|------|
| 🖼️ 画像 | 画像などを利用すると多くの人に理解しやすくなります |
| 📝 代替テキスト | 視覚情報が認識できない人に代替手段を提供する方法があります |

```razor
@* 画像には必ず代替テキストを付与 *@
<img src="chart.png" alt="2024年の売上推移を示す折れ線グラフ。1月から12月にかけて右肩上がり。" />
```

## まとめ

本記事では、Fluent UI Blazorを使用したアクセシビリティに優れたWebアプリケーション構築について解説しました。

### 課題

- 🎨 色に関しての知識がない場合、色覚異常への配慮は難しい
- 👨‍🎨 専門のデザイナーがいないと、アクセシビリティ対応は困難

### 解決策

- ✅ **Fluent UI Blazorなどのアクセシビリティに十分配慮されたUIコンポーネントを使用することはとても有用**

### Fluent UI Blazorを採用するメリット

| メリット | 説明 |
|----------|------|
| 🎨 見た目の美しさ | Microsoft品質のモダンなデザイン |
| 🔄 デザインの一貫性 | 統一されたデザインシステム |
| ♿ アクセシビリティ | WCAG 2.1 AA準拠のコンポーネント |
| ⏱️ 現実的な工数 | 自力実装より大幅に工数削減 |

:::message
**見た目に美しく、デザインの一貫性を得られるだけでなくアクセシビリティにも配慮でき、現実的な工数でそれらが実現できるので採用しない手はない！**
:::

### アクセシビリティは「誰か」のためではなく「みんな」のため

本記事を通じてお伝えしたかったのは、**アクセシビリティは障がいを持つ方だけのものではない**ということです。

- 🌞 明るい場所で画面を見るとき、高コントラストが助けになる
- 😴 疲れ目のとき、ダークモードが目に優しい
- ⌨️ 効率を求めるとき、キーボードナビゲーションが生産性を上げる
- 📱 様々なデバイスで使うとき、レスポンシブデザインが適応する

**私たちは誰もが、状況によって「一時的な障害」を経験します。** アクセシビリティに配慮したデザインは、すべてのユーザーのすべての状況において、より良い体験を提供するのです。

アクセシビリティは「あったらいいな」ではなく、すべてのユーザーに情報を届けるための**必須要件**です。Fluent UI Blazorを活用して、誰もが使いやすいWebアプリケーションを構築しましょう！🚀

## 参考文献

- 📦 [Fluent UI Blazor Releases - GitHub](https://github.com/microsoft/fluentui-blazor/releases)
- 📚 [Fluent UI Blazor 公式ドキュメント](https://www.fluentui-blazor.net/)
- 🎨 [Fluent 2 Design System](https://fluent2.microsoft.design/)
- ♿ [Fluent 2 Accessibility Guidelines](https://fluent2.microsoft.design/accessibility)
- 🎛️ [Design Tokens - Fluent UI Blazor](https://www.fluentui-blazor.net/DesignTokens)
- 📖 [WCAG 2.1 - W3C](https://www.w3.org/WAI/standards-guidelines/wcag/)
